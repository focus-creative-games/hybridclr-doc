"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[9479],{3905:(e,t,n)=>{n.d(t,{Zo:()=>l,kt:()=>m});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=r.createContext({}),u=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},l=function(e){var t=u(e.components);return r.createElement(s.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,s=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),p=u(n),h=o,m=p["".concat(s,".").concat(h)]||p[h]||d[h]||a;return n?r.createElement(m,i(i({ref:t},l),{},{components:n})):r.createElement(m,i({ref:t},l))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=h;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c[p]="string"==typeof e?e:o,i[1]=c;for(var u=2;u<a;u++)i[u]=n[u];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}h.displayName="MDXCreateElement"},2401:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>d,frontMatter:()=>a,metadata:()=>c,toc:()=>u});var r=n(7462),o=(n(7294),n(3905));const a={},i="Use MonoBehaviour",c={unversionedId:"beginner/monobehaviour",id:"beginner/monobehaviour",title:"Use MonoBehaviour",description:"HybridCLR fully supports the MonoBehaviour workflow. You can not only dynamically mount the hot update script in the code through AddComponent, but also hang the hot update script on the resource, and then restore the script by loading the resource.",source:"@site/i18n/en/docusaurus-plugin-content-docs/current/beginner/monobehaviour.md",sourceDirName:"beginner",slug:"/beginner/monobehaviour",permalink:"/en/docs/beginner/monobehaviour",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Getting started",permalink:"/en/docs/beginner/quickstart"},next:{title:"Use Generics",permalink:"/en/docs/beginner/generic"}},s={},u=[{value:"Create <code>Print.cs</code> hot update script",id:"create-printcs-hot-update-script",level:2},{value:"Call AddComponent in the code to dynamically mount the hot update script",id:"call-addcomponent-in-the-code-to-dynamically-mount-the-hot-update-script",level:2},{value:"Mount the script to the hot update resource",id:"mount-the-script-to-the-hot-update-resource",level:2}],l={toc:u},p="wrapper";function d(e){let{components:t,...n}=e;return(0,o.kt)(p,(0,r.Z)({},l,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"use-monobehaviour"},"Use MonoBehaviour"),(0,o.kt)("p",null,"HybridCLR fully supports the MonoBehaviour workflow. You can not only dynamically mount the hot update script in the code through AddComponent, but also hang the hot update script on the resource, and then restore the script by loading the resource."),(0,o.kt)("p",null,"Based on the project of the quickstart document, we demonstrate how to use the hot update script."),(0,o.kt)("h2",{id:"create-printcs-hot-update-script"},"Create ",(0,o.kt)("inlineCode",{parentName:"h2"},"Print.cs")," hot update script"),(0,o.kt)("p",null,"Create ",(0,o.kt)("inlineCode",{parentName:"p"},"Assets/HotUpdate/Print.cs")," script, the code is as follows:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-csharp"},'using System. Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic class Print : MonoBehaviour\n{\n     public int value = 1;\n\n     void Start()\n     {\n         Debug.Log($"[Print] GameObject:{name} value:{value}");\n     }\n}\n')),(0,o.kt)("h2",{id:"call-addcomponent-in-the-code-to-dynamically-mount-the-hot-update-script"},"Call AddComponent in the code to dynamically mount the hot update script"),(0,o.kt)("p",null,"Modify the ",(0,o.kt)("inlineCode",{parentName:"p"},"Hello.Run")," function and add the code to dynamically mount the Print script. The final code is as follows:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-csharp"},'     public static void Run()\n     {\n         Debug. Log("Hello, World");\n\n         GameObject go = new GameObject("Test1");\n         go. AddComponent<Print>();\n     }\n')),(0,o.kt)("p",null,"After the hot update, a line of log ",(0,o.kt)("inlineCode",{parentName:"p"},"[Print] GameObject:Test1 value:1")," will be added on the screen."),(0,o.kt)("h2",{id:"mount-the-script-to-the-hot-update-resource"},"Mount the script to the hot update resource"),(0,o.kt)("p",null,"Due to the limitations of the Unity resource management system, the resources (prefab, scene, ScriptableObject resources) mounted by the hot update script must be typed into assetbundle**, and the resources can be instantiated from the ab package to restore the script correctly."),(0,o.kt)("admonition",{type:"danger"},(0,o.kt)("p",{parentName:"admonition"},"If you mount the hot update script to Resources and other resources that come with the main package, a scripting missing error will occur!")),(0,o.kt)("p",null,"Since the whole process involves packing the ab package, it is relatively lengthy, so I won't detail it here. Try the hybridclr_trial project (",(0,o.kt)("a",{parentName:"p",href:"https://focus-creative-games/hybridclr_trial"},"github")," or ",(0,o.kt)("a",{parentName:"p",href:"https://gitee.com/focus-creative-games/hybridclr_trial"},"gitee"),") directly."),(0,o.kt)("p",null,"For beginners, you just need to remember: the resource (scene or prefab) that mounts the hot update script must be packaged into ab, and the hot update dll can be loaded before instantiating the resource (this requirement is obvious!)."))}d.isMDXComponent=!0}}]);