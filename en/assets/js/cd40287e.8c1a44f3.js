"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[3665],{3905:(t,e,n)=>{n.d(e,{Zo:()=>d,kt:()=>y});var r=n(7294);function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var c=r.createContext({}),s=function(t){var e=r.useContext(c),n=e;return t&&(n="function"==typeof t?t(e):l(l({},e),t)),n},d=function(t){var e=s(t.components);return r.createElement(c.Provider,{value:e},t.children)},u="mdxType",p={inlineCode:"code",wrapper:function(t){var e=t.children;return r.createElement(r.Fragment,{},e)}},m=r.forwardRef((function(t,e){var n=t.components,a=t.mdxType,i=t.originalType,c=t.parentName,d=o(t,["components","mdxType","originalType","parentName"]),u=s(n),m=a,y=u["".concat(c,".").concat(m)]||u[m]||p[m]||i;return n?r.createElement(y,l(l({ref:e},d),{},{components:n})):r.createElement(y,l({ref:e},d))}));function y(t,e){var n=arguments,a=e&&e.mdxType;if("string"==typeof t||a){var i=n.length,l=new Array(i);l[0]=m;var o={};for(var c in e)hasOwnProperty.call(e,c)&&(o[c]=e[c]);o.originalType=t,o[u]="string"==typeof t?t:a,l[1]=o;for(var s=2;s<i;s++)l[s]=n[s];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},5560:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>c,contentTitle:()=>l,default:()=>p,frontMatter:()=>i,metadata:()=>o,toc:()=>s});var r=n(7462),a=(n(7294),n(3905));const i={},l="Code Protection",o={unversionedId:"business/basicencryption",id:"business/basicencryption",title:"Code Protection",description:"The community version loads the original dll directly, forcing developers to carry and download the original dll. These original dlls can be decompiled by tools like ILSpy",source:"@site/i18n/en/docusaurus-plugin-content-docs/current/business/basicencryption.md",sourceDirName:"business",slug:"/business/basicencryption",permalink:"/en/docs/business/basicencryption",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Offline Instruction Optimization",permalink:"/en/docs/business/basiccodeoptimization"},next:{title:"IL interpreter",permalink:"/en/docs/business/ilinterpreter"}},c={},s=[{value:"Metadata obfuscation",id:"metadata-obfuscation",level:2},{value:"Metadata encryption",id:"metadata-encryption",level:2},{value:"Custom dll file structure",id:"custom-dll-file-structure",level:3},{value:"~string stream encryption",id:"string-stream-encryption",level:3},{value:"~blob stream encryption",id:"blob-stream-encryption",level:3},{value:"~US stream encryption",id:"us-stream-encryption",level:3},{value:"~table stream encryption",id:"table-stream-encryption",level:3},{value:"method body data encryption",id:"method-body-data-encryption",level:3},{value:"Structure virtualization technology",id:"structure-virtualization-technology",level:2},{value:"Encrypted virtualization technology",id:"encrypted-virtualization-technology",level:2},{value:"Delayed decryption technology",id:"delayed-decryption-technology",level:2},{value:"Instruction virtualization technology",id:"instruction-virtualization-technology",level:2},{value:"dll signature technology",id:"dll-signature-technology",level:2}],d={toc:s},u="wrapper";function p(t){let{components:e,...n}=t;return(0,a.kt)(u,(0,r.Z)({},d,n,{components:e,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"code-protection"},"Code Protection"),(0,a.kt)("p",null,"The community version loads the original dll directly, forcing developers to carry and download the original dll. These original dlls can be decompiled by tools like ILSpy\n, causing serious safety problems. Even if the developer encrypts it, it can easily be intercepted in the memory and obtain the decrypted dll content."),(0,a.kt)("p",null,"We provide the industry's top managed code hardening technology, which effectively prevents code from being cracked and tampered with by malicious third parties."),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Technology"),(0,a.kt)("th",{parentName:"tr",align:null},"Safety Index"),(0,a.kt)("th",{parentName:"tr",align:null},"Achieved"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Metadata obfuscation"),(0,a.kt)("td",{parentName:"tr",align:null},"\u2b50"),(0,a.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Metadata encryption"),(0,a.kt)("td",{parentName:"tr",align:null},"\u2b50\u2b50\u2b50\u2b50"),(0,a.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Fabric Virtualization"),(0,a.kt)("td",{parentName:"tr",align:null},"\u2b50\u2b50\u2b50"),(0,a.kt)("td",{parentName:"tr",align:null})),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Encrypted Virtualization"),(0,a.kt)("td",{parentName:"tr",align:null},"\u2b50\u2b50\u2b50"),(0,a.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Delayed decryption"),(0,a.kt)("td",{parentName:"tr",align:null},"\u2b50\u2b50\u2b50"),(0,a.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Instruction virtualization"),(0,a.kt)("td",{parentName:"tr",align:null},"\u2b50\u2b50\u2b50\u2b50\u2b50"),(0,a.kt)("td",{parentName:"tr",align:null})),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"dll signature"),(0,a.kt)("td",{parentName:"tr",align:null},"\u2b50\u2b50\u2b50"),(0,a.kt)("td",{parentName:"tr",align:null})))),(0,a.kt)("h2",{id:"metadata-obfuscation"},"Metadata obfuscation"),(0,a.kt)("p",null,"Due to clr's own mechanism, no matter how complex the encryption is, valid metadata information such as types, fields, function names, etc. can be obtained through reflection in the memory.\nThis information must be added to the security by obfuscating the metadata itself, i.e. completely losing the original plaintext information from the original level."),(0,a.kt)("p",null,"Because instruction obfuscation will significantly harm performance, only pure information types such as types, fields, and functions are obfuscated. We mainly protect code security through virtualization technology."),(0,a.kt)("h2",{id:"metadata-encryption"},"Metadata encryption"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Technology"),(0,a.kt)("th",{parentName:"tr",align:null},"Fabric Virtualization"),(0,a.kt)("th",{parentName:"tr",align:null},"Encryption Virtualization"),(0,a.kt)("th",{parentName:"tr",align:null},"Lazy Decryption"),(0,a.kt)("th",{parentName:"tr",align:null},"Security Index"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Customized dll file structure"),(0,a.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,a.kt)("td",{parentName:"tr",align:null}),(0,a.kt)("td",{parentName:"tr",align:null}),(0,a.kt)("td",{parentName:"tr",align:null},"\u2b50")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"~string stream encryption"),(0,a.kt)("td",{parentName:"tr",align:null}),(0,a.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,a.kt)("td",{parentName:"tr",align:null}),(0,a.kt)("td",{parentName:"tr",align:null},"\u2b50\u2b50")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"~blob stream encryption"),(0,a.kt)("td",{parentName:"tr",align:null}),(0,a.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,a.kt)("td",{parentName:"tr",align:null}),(0,a.kt)("td",{parentName:"tr",align:null},"\u2b50\u2b50")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"~US stream encryption"),(0,a.kt)("td",{parentName:"tr",align:null}),(0,a.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,a.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,a.kt)("td",{parentName:"tr",align:null},"\u2b50\u2b50\u2b50")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"~table stream encryption"),(0,a.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,a.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,a.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,a.kt)("td",{parentName:"tr",align:null},"\u2b50\u2b50\u2b50\u2b50")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"method body data encryption"),(0,a.kt)("td",{parentName:"tr",align:null}),(0,a.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,a.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,a.kt)("td",{parentName:"tr",align:null},"\u2b50\u2b50\u2b50")))),(0,a.kt)("h3",{id:"custom-dll-file-structure"},"Custom dll file structure"),(0,a.kt)("p",null,"The original dll file is in PE format. We changed it to a custom file structure and cannot be opened using decompilation tools such as ILSpy."),(0,a.kt)("p",null,"Supports structure virtualization technology, that is, the dll structure of each version can be completely different, which significantly increases the cost of cracking."),(0,a.kt)("h3",{id:"string-stream-encryption"},"~string stream encryption"),(0,a.kt)("p",null,"The ~string stream stores strings used internally in metadata, such as type names, field names, etc. Encrypting the ~string stream data makes it impossible to obtain the metadata string directly from the dll file."),(0,a.kt)("p",null,"Supports encryption virtualization technology, which significantly increases the difficulty of offline cracking."),(0,a.kt)("h3",{id:"blob-stream-encryption"},"~blob stream encryption"),(0,a.kt)("p",null,"~blob streams store some complex metadata (such as type signatures). Encrypting the ~blob stream makes it impossible to obtain the original lob data directly from the dll file."),(0,a.kt)("p",null,"Supports encryption virtualization technology, which significantly increases the cost of offline cracking."),(0,a.kt)("h3",{id:"us-stream-encryption"},"~US stream encryption"),(0,a.kt)("p",null,"The user string (that is, the string used in the code) metadata is saved in the ~US stream."),(0,a.kt)("p",null,"Supports encrypted virtualization technology, preventing crackers from directly obtaining original ~US metadata from dll files."),(0,a.kt)("p",null,"Supports delayed decryption to prevent crackers from using memory dump technology to directly restore all data."),(0,a.kt)("h3",{id:"table-stream-encryption"},"~table stream encryption"),(0,a.kt)("p",null,"The ~table stream holds most of the structured metadata."),(0,a.kt)("p",null,"Supporting structure virtualization technology, each version uses different metadata data structures, which greatly increases the cost of cracking. Even if it is cracked, it cannot be restored to the original ~table stream structure through simple data movement or copying."),(0,a.kt)("p",null,"Supports encrypted virtualization, which significantly increases the cost of cracking."),(0,a.kt)("p",null,"Supports delayed decryption to prevent crackers from using memory dump technology to directly restore all data."),(0,a.kt)("h3",{id:"method-body-data-encryption"},"method body data encryption"),(0,a.kt)("p",null,"The function body metadata information is stored in the method body."),(0,a.kt)("p",null,"Supports encrypted virtualization, which significantly increases the cost of cracking."),(0,a.kt)("p",null,"Supports delayed decryption to prevent crackers from using memory dump technology to directly restore all data."),(0,a.kt)("h2",{id:"structure-virtualization-technology"},"Structure virtualization technology"),(0,a.kt)("p",null,"Structural virtualization technology refers to the use of a dedicated structural virtual machine to parse the structure of metadata, and it can be dynamically adjusted without rebuilding the App. This requires the cracker to re-crack each version, which greatly increases the cost of the cracker."),(0,a.kt)("h2",{id:"encrypted-virtualization-technology"},"Encrypted virtualization technology"),(0,a.kt)("p",null,"Encrypted virtualization technology refers to the use of a dedicated encryption virtual machine to encrypt metadata, and it can be dynamically adjusted without rebuilding the app. This requires the cracker to re-crack each version, which greatly increases the cost of the cracker."),(0,a.kt)("h2",{id:"delayed-decryption-technology"},"Delayed decryption technology"),(0,a.kt)("p",null,"Delayed decryption technology refers to decrypting data only for the first time, effectively preventing crackers from hooking the critical path and directly dumping the complete original data into memory."),(0,a.kt)("h2",{id:"instruction-virtualization-technology"},"Instruction virtualization technology"),(0,a.kt)("p",null,"Instruction virtualization technology refers to converting original IL instructions into customized register virtual machine instructions, effectively preventing crackers from using ready-made decompilation tools to analyze the original code."),(0,a.kt)("p",null,"Instruction virtualization technology supports randomized instruction structures. Every time the App is rebuilt, a new instruction set is used (the instruction number and instruction length are completely different), which greatly increases the cost of crackers."),(0,a.kt)("h2",{id:"dll-signature-technology"},"dll signature technology"),(0,a.kt)("p",null,"Check the dll signature when loading the dll to make sure it is from an official source. Even if a malicious third party cracks the code, it will not be able to execute the tampered code, which greatly improves code security."))}p.isMDXComponent=!0}}]);