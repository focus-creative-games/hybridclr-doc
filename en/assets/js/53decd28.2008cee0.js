"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[1970],{3905:(e,t,s)=>{s.d(t,{Zo:()=>m,kt:()=>b});var n=s(67294);function a(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function i(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function l(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?i(Object(s),!0).forEach((function(t){a(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):i(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function r(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}var o=n.createContext({}),p=function(e){var t=n.useContext(o),s=t;return e&&(s="function"==typeof e?e(t):l(l({},t),e)),s},m=function(e){var t=p(e.components);return n.createElement(o.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var s=e.components,a=e.mdxType,i=e.originalType,o=e.parentName,m=r(e,["components","mdxType","originalType","parentName"]),c=p(s),u=a,b=c["".concat(o,".").concat(u)]||c[u]||d[u]||i;return s?n.createElement(b,l(l({ref:t},m),{},{components:s})):n.createElement(b,l({ref:t},m))}));function b(e,t){var s=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=s.length,l=new Array(i);l[0]=u;var r={};for(var o in t)hasOwnProperty.call(t,o)&&(r[o]=t[o]);r.originalType=e,r[c]="string"==typeof e?e:a,l[1]=r;for(var p=2;p<i;p++)l[p]=s[p];return n.createElement.apply(null,l)}return n.createElement.apply(null,s)}u.displayName="MDXCreateElement"},36742:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>o,contentTitle:()=>l,default:()=>d,frontMatter:()=>i,metadata:()=>r,toc:()=>p});var n=s(87462),a=(s(67294),s(3905));const i={},l="Assembly Configuration",r={unversionedId:"basic/hotupdateassemblysetting",id:"basic/hotupdateassemblysetting",title:"Assembly Configuration",description:"Generally speaking, hot update code must be organized into independent assemblies to facilitate hot updates.",source:"@site/i18n/en/docusaurus-plugin-content-docs/current/basic/hotupdateassemblysetting.md",sourceDirName:"basic",slug:"/basic/hotupdateassemblysetting",permalink:"/en/docs/basic/hotupdateassemblysetting",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Configuration",permalink:"/en/docs/basic/projectsettings"},next:{title:"Loading and Running",permalink:"/en/docs/basic/runhotupdatecodes"}},o={},p=[{value:"Assembly Classification",id:"assembly-classification",level:2},{value:"Assemblies Defined by Assembly Definition",id:"assemblies-defined-by-assembly-definition",level:3},{value:"Assembly-CSharp Assembly",id:"assembly-csharp-assembly",level:3},{value:"Regular DLL Assemblies",id:"regular-dll-assemblies",level:3},{value:"Dividing Assemblies",id:"dividing-assemblies",level:2}],m={toc:p},c="wrapper";function d(e){let{components:t,...s}=e;return(0,a.kt)(c,(0,n.Z)({},m,s,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"assembly-configuration"},"Assembly Configuration"),(0,a.kt)("p",null,"Generally speaking, hot update code must be organized into independent assemblies to facilitate hot updates."),(0,a.kt)("h2",{id:"assembly-classification"},"Assembly Classification"),(0,a.kt)("h3",{id:"assemblies-defined-by-assembly-definition"},"Assemblies Defined by Assembly Definition"),(0,a.kt)("p",null,"This is Unity's recommended assembly approach. It splits the code of a large Unity project into multiple assembly modules for easier management and shorter compilation times."),(0,a.kt)("p",null,"Please read the documentation ",(0,a.kt)("a",{parentName:"p",href:"https://docs.unity3d.com/Manual/ScriptCompilationAssemblyDefinitionFiles.html"},"Assembly definitions")," to learn how to create assemblies."),(0,a.kt)("h3",{id:"assembly-csharp-assembly"},"Assembly-CSharp Assembly"),(0,a.kt)("p",null,"This is Unity's default global assembly. It can be used as a hot update assembly like any regular dll."),(0,a.kt)("h3",{id:"regular-dll-assemblies"},"Regular DLL Assemblies"),(0,a.kt)("p",null,"Some code is pre-compiled into dll files and then moved into the project."),(0,a.kt)("h2",{id:"dividing-assemblies"},"Dividing Assemblies"),(0,a.kt)("p",null,"Obviously, project code must be reasonably split into ",(0,a.kt)("inlineCode",{parentName:"p"},"AOT")," (i.e., compiled into the game main package) assemblies and ",(0,a.kt)("inlineCode",{parentName:"p"},"hot update")," assemblies to enable hot updates. HybridCLR has no restrictions on how to split assemblies - you can even use third-party project code as hot update assemblies. Generally speaking, when the game starts, at least one AOT assembly is needed to handle startup and hot update related work."),(0,a.kt)("p",null,"Common splitting approaches include:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Assembly-CSharp as AOT assembly. Split remaining code into N AOT assemblies and M hot update assemblies."),(0,a.kt)("li",{parentName:"ul"},"Assembly-CSharp as hot update assembly. Split remaining code into N AOT assemblies and M hot update assemblies.")),(0,a.kt)("p",null,"Regardless of the splitting approach, just set up the reference relationships between assemblies correctly. Please do not reference hot update assemblies in AOT assemblies, as this will cause build errors. If your project uses Assembly-CSharp as an AOT assembly, it's strongly recommended to disable the ",(0,a.kt)("inlineCode",{parentName:"p"},"auto reference")," option for hot update assemblies. Since Assembly-CSharp is the top-level assembly, it will automatically reference all other assemblies, making it easy to accidentally reference hot update assemblies."))}d.isMDXComponent=!0}}]);