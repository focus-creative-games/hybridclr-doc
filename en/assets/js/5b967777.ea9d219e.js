"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[6887],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>h});var i=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},l=Object.keys(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=i.createContext({}),d=function(e){var t=i.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},p=function(e){var t=d(e.components);return i.createElement(s.Provider,{value:t},e.children)},u="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},m=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,l=e.originalType,s=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),u=d(n),m=a,h=u["".concat(s,".").concat(m)]||u[m]||c[m]||l;return n?i.createElement(h,r(r({ref:t},p),{},{components:n})):i.createElement(h,r({ref:t},p))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=n.length,r=new Array(l);r[0]=m;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[u]="string"==typeof e?e:a,r[1]=o;for(var d=2;d<l;d++)r[d]=n[d];return i.createElement.apply(null,r)}return i.createElement.apply(null,n)}m.displayName="MDXCreateElement"},16976:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>r,default:()=>c,frontMatter:()=>l,metadata:()=>o,toc:()=>d});var i=n(87462),a=(n(67294),n(3905));const l={},r="Get started quickly",o={unversionedId:"business/ultimate/quickstartunchecked",id:"version-7.6.0/business/ultimate/quickstartunchecked",title:"Get started quickly",description:"This tutorial guides you to experience the hot update of HybridCLR from an empty project. For the sake of simplicity, only the case where BuildTarget is Windows or MacOS Standalone platform is demonstrated.",source:"@site/i18n/en/docusaurus-plugin-content-docs/version-7.6.0/business/ultimate/quickstartunchecked.md",sourceDirName:"business/ultimate",slug:"/business/ultimate/quickstartunchecked",permalink:"/en/docs/7.6.0/business/ultimate/quickstartunchecked",draft:!1,tags:[],version:"7.6.0",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Introduction",permalink:"/en/docs/7.6.0/business/ultimate/intro"},next:{title:"Build and hot update",permalink:"/en/docs/7.6.0/business/ultimate/build"}},s={},d=[{value:"Experience target",id:"experience-target",level:2},{value:"Prepare the environment",id:"prepare-the-environment",level:2},{value:"Install Unity",id:"install-unity",level:3},{value:"Install IDE and related compilation environment",id:"install-ide-and-related-compilation-environment",level:3},{value:"Initialize Unity hot update project",id:"initialize-unity-hot-update-project",level:2},{value:"Create a project",id:"create-a-project",level:3},{value:"Create the <code>ConsoleToScreen.cs</code> script",id:"create-the-consoletoscreencs-script",level:3},{value:"Create a hot update script",id:"create-a-hot-update-script",level:2},{value:"Load the hot update assembly",id:"load-the-hot-update-assembly",level:2},{value:"Trial run in Editor",id:"trial-run-in-editor",level:2},{value:"Build the game",id:"build-the-game",level:2},{value:"First package test",id:"first-package-test",level:2},{value:"Test hot update",id:"test-hot-update",level:2}],p={toc:d},u="wrapper";function c(e){let{components:t,...l}=e;return(0,a.kt)(u,(0,i.Z)({},p,l,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"get-started-quickly"},"Get started quickly"),(0,a.kt)("p",null,"This tutorial guides you to experience the hot update of HybridCLR from an empty project. For the sake of simplicity, only the case where BuildTarget is ",(0,a.kt)("strong",{parentName:"p"},"Windows")," or ",(0,a.kt)("strong",{parentName:"p"},"MacOS")," Standalone platform is demonstrated.\nPlease run the hot update process correctly on the Standalone platform before trying the hot update of Android and iOS platforms by yourself. Their processes are very similar."),(0,a.kt)("p",null,"The difficulty of using the Ultimate version is similar to that of the Community version. Most of the principles are the same. It is recommended to familiarize yourself with the Community version before trying the Ultimate version."),(0,a.kt)("h2",{id:"experience-target"},"Experience target"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Create a hot update assembly"),(0,a.kt)("li",{parentName:"ul"},"Load the hot update assembly and execute the hot update code in it, print ",(0,a.kt)("inlineCode",{parentName:"li"},"Hello, HybridCLR")),(0,a.kt)("li",{parentName:"ul"},"Modify the hot update code and print ",(0,a.kt)("inlineCode",{parentName:"li"},"Hello, World"))),(0,a.kt)("h2",{id:"prepare-the-environment"},"Prepare the environment"),(0,a.kt)("h3",{id:"install-unity"},"Install Unity"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Install any version of 2019.4.x, 2020.3.x, 2021.3.x, 2022.3.x. Some versions have special installation requirements, see ",(0,a.kt)("a",{parentName:"li",href:"/en/docs/7.6.0/basic/install"},"Install hybridclr")),(0,a.kt)("li",{parentName:"ul"},"Depending on your operating system, you must select ",(0,a.kt)("inlineCode",{parentName:"li"},"Windows Build Support (IL2CPP)")," or ",(0,a.kt)("inlineCode",{parentName:"li"},"Mac Build Support (IL2CPP)")," when selecting modules during installation")),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"select il2cpp modules",src:n(68581).Z,width:"721",height:"507"})),(0,a.kt)("h3",{id:"install-ide-and-related-compilation-environment"},"Install IDE and related compilation environment"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Windows"),(0,a.kt)("li",{parentName:"ul"},"Under Win, you need to install ",(0,a.kt)("inlineCode",{parentName:"li"},"visual studio 2019")," or higher. The installation should at least include the ",(0,a.kt)("inlineCode",{parentName:"li"},"Game Development with Unity")," and ",(0,a.kt)("inlineCode",{parentName:"li"},"Game Development with C++")," components"),(0,a.kt)("li",{parentName:"ul"},"Install git"),(0,a.kt)("li",{parentName:"ul"},"Mac"),(0,a.kt)("li",{parentName:"ul"},"Requires MacOS version >= 12, Xcode version >= 13, for example ",(0,a.kt)("inlineCode",{parentName:"li"},"Xcode 13.4.1, macos 12.4")),(0,a.kt)("li",{parentName:"ul"},"Install git")),(0,a.kt)("h2",{id:"initialize-unity-hot-update-project"},"Initialize Unity hot update project"),(0,a.kt)("p",null,"The process of constructing a hot update project from scratch is relatively lengthy. The code involved in the following steps can refer to the dhe_demo project, whose repository address is ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/focus-creative-games/dhe_demo"},"github"),"."),(0,a.kt)("h3",{id:"create-a-project"},"Create a project"),(0,a.kt)("p",null,"Create an empty Unity project."),(0,a.kt)("h3",{id:"create-the-consoletoscreencs-script"},"Create the ",(0,a.kt)("inlineCode",{parentName:"h3"},"ConsoleToScreen.cs")," script"),(0,a.kt)("p",null,"This script has no direct effect on demonstrating hot updates. It can print logs to the screen to facilitate error location."),(0,a.kt)("p",null,"Create the ",(0,a.kt)("inlineCode",{parentName:"p"},"Assets/ConsoleToScreen.cs")," script class, the code is as follows:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-csharp"},'using System;\nusing System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic class ConsoleToScreen : MonoBehaviour\n{\n    const int maxLines = 50;\n    const int maxLineLength = 120;\n    private string _logStr = "";\n\n    private readonly List<string> _lines = new List<string>();\n\n    public int fontSize = 15;\n\n    void OnEnable() { Application.logMessageReceived += Log; }\n    void OnDisable() { Application.logMessageReceived -= Log; }\n\n    public void Log(string logString, string stackTrace, LogType type)\n    {\n        foreach (var line in logString.Split(\'\\n\'))\n        {\n            if (line.Length <= maxLineLength)\n            {\n                _lines.Add(line);\n                continue;\n            }\n            var lineCount = line.Length / maxLineLength + 1;\n            for (int i = 0; i < lineCount; i++)\n            {\n                if ((i + 1) * maxLineLength <= line.Length)\n                {\n                    _lines.Add(line.Substring(i * maxLineLength, maxLineLength));\n                }\n                else\n                {\n                    _lines.Add(line.Substring(i * maxLineLength, line.Length - i * maxLineLength));\n                }\n            }\n        }\n        if (_lines.Count > maxLines)\n        {\n            _lines.RemoveRange(0, _lines.Count - maxLines);\n        }\n        _logStr = string.Join("\\n", _lines);\n    }\n\n    void OnGUI()\n    {\n        GUI.matrix = Matrix4x4.TRS(Vector3.zero, Quaternion.identity,\n           new Vector3(Screen.width / 1200.0f, Screen.height / 800.0f, 1.0f));\n        GUI.Label(new Rect(10, 10, 800, 370), _logStr, new GUIStyle() { fontSize = Math.Max(10, fontSize) });\n    }\n}\n\n### Create the main scene\n\n- Create the default initial scene main.scene\n- Create an empty GameObject in the scene and attach ConsoleToScreen to it\n- Add the main scene to the packaged scene list in `Build Settings`\n\n### Create the HotUpdate hot update module\n\n- Create the `Assets/HotUpdate` directory\n- Right-click `Create/Assembly Definition` in the directory and create an assembly module named `HotUpdate`\n\n## Install and configure HybridCLR\n\n### Installation\n\n- Unzip hybridclr_unity.zip and put it in the project Packages directory, renaming it to com.code-philosophy.hybridclr\n- Unzip the corresponding `il2cpp_plus-{version}.zip` according to your unity version\n- Unzip `hybridclr.zip`\n- Put the hybridclr directory after decompressing `hybridclr.zip` into the libil2cpp directory after decompressing `il2cpp-{version}.zip`\n- Open `HybridCLR/Installer`, enable the option `Copy libil2cpp from local`, select the libil2cpp directory just decompressed, and install it\n- According to your Unity version:\n- If the version is >= 2020, replace the file `ModifiedDlls\\{verions}\\Unity.IL2CPP.dll` with `{proj}\\HybridCLRData\\LocalIl2CppData-WindowsEditor\\il2cpp\\build\\deploy\\netcoreapp3.1\\Unity.IL2CPP.dll` (Unity 2020) or `{proj}\\HybridCLRData\\LocalIl2CppData-WindowsEditor\\il2cpp\\build\\deploy\\Unity.IL2CPP.dll` (Unity 2021+). If there is no file corresponding to your version, please contact us to make one\n- If the version is 2019, no operation is required, because it has been automatically copied during the installation process\n\n![installer](/img/hybridclr/ultimate-installer.jpg)\n\n### Configure HybridCLR\n\n- Open the menu `HybridCLR/Settings`\n- Add the `HotUpdate` assembly to the `differentialHybridAssemblies` list\n\n![settings](/img/hybridclr/ultimate-hybridclr-settings.jpg)\n\n### Configure PlayerSettings\n\n- Switch `Scripting Backend` to `IL2CPP`\n- Switch `Api Compatibility Level` to `.Net 4.x`(Unity 2019-2020) or `.Net Framework` (Unity 2021+)\n\n![player settings](/img/hybridclr/ultimate-project-settings.jpg)\n\n## Create Editor script\n\nCreate BuildTools.cs file in the `Assets/Editor` directory with the following content:\n\n```csharp\n\nusing HybridCLR.Editor;\nusing HybridCLR.Editor.DHE;\nusing HybridCLR.Runtime;\nusing System.Collections;\nusing System.Collections.Generic;\nusing System.IO;\nusing UnityEditor;\nusing UnityEngine;\n\npublic static class BuildTools\n{\n     public const string BackupAOTDllDir = "HybridCLRData/BackupAOT";\n\n    public const string EncrypedDllDir = "HybridCLRData/EncryptedDll";\n\n    public const string DhaoDir = "HybridCLRData/Dhao";\n\n\n    /// <summary>\n    /// \u5907\u4efd\u6784\u5efa\u4e3b\u5305\u65f6\u751f\u6210\u7684\u88c1\u526aAOT dll\n    /// </summary>\n    [MenuItem("BuildTools/BackupAOTDll")]\n    public static void BackupAOTDllFromAssemblyPostStrippedDir()\n    {\n        BuildTarget target = EditorUserBuildSettings.activeBuildTarget;\n        var backupDir = $"{BackupAOTDllDir}/{target}";\n        System.IO.Directory.CreateDirectory(backupDir);\n        var dlls = System.IO.Directory.GetFiles(SettingsUtil.GetAssembliesPostIl2CppStripDir(target));\n        foreach (var dll in dlls)\n        {\n            var fileName = System.IO.Path.GetFileName(dll);\n            string dstFile = $"{BackupAOTDllDir}/{target}/{fileName}";\n            System.IO.File.Copy(dll, dstFile, true);\n            Debug.Log($"BackupAOTDllFromAssemblyPostStrippedDir: {dll} -> {dstFile}");\n        }\n    }\n    \n    /// <summary>\n    /// \u751f\u6210\u70ed\u66f4\u5305\u7684dhao\u6570\u636e\n    /// </summary>\n    [MenuItem("BuildTools/GenerateDHAODatas")]\n    public static void GenerateDHAODatas()\n    {\n        BuildTarget target = EditorUserBuildSettings.activeBuildTarget;\n        string backupDir = $"{BackupAOTDllDir}/{target}";\n        string dhaoDir = $"{DhaoDir}/{target}";\n        string currentDllDir = SettingsUtil.GetHotUpdateDllsOutputDirByTarget(target);\n        BuildUtils.GenerateDHAODatas(SettingsUtil.DifferentialHybridAssemblyNames, backupDir, currentDllDir, null, HybridCLRSettings.Instance.injectRuleFiles, dhaoDir);\n    }\n\n    [MenuItem("BuildTools/CompileHotUpdateDlls")]\n    public static void CompileHotUpdateDlls()\n    {\n        BuildTarget target = EditorUserBuildSettings.activeBuildTarget;\n        CompileDllCommand.CompileDll(target);\n    }\n\n\n    [MenuItem("BuildTools/CompileHotUpdateDllsAndGenerateDHAODatas")]\n    public static void CompileHotUpdateDllsAndGenerateDHAODatas()\n    {\n        CompileHotUpdateDlls();\n        GenerateDHAODatas();\n    }\n\n    /// <summary>\n    /// \u590d\u5236\u70ed\u66f4\u65b0dll\u548cdhao\u6587\u4ef6\u5230HotUpdateDatas\n    /// </summary>\n    [MenuItem("BuildTools/CopyDllAndDhaoFileToHotUpdateDataDir")]\n    public static void CopyDllAndDhaoFileToHotUpdateDataDir()\n    {\n        BuildTarget target = EditorUserBuildSettings.activeBuildTarget;\n        string hotUpdateDatasDir = $"{Application.dataPath}/../HotUpdateDatas";\n        Directory.CreateDirectory(hotUpdateDatasDir);\n\n        string dllDir = SettingsUtil.GetHotUpdateDllsOutputDirByTarget(target);\n        string dhaoDir = $"{DhaoDir}/{target}";\n        foreach (var dll in SettingsUtil.DifferentialHybridAssemblyNames)\n        {\n            string srcFile = $"{dllDir}/{dll}.dll";\n            string dstFile = $"{hotUpdateDatasDir}/{dll}.dll.bytes";\n            System.IO.File.Copy(srcFile, dstFile, true);\n            Debug.Log($"Copy: {srcFile} -> {dstFile}");\n            string dhaoFile = $"{dhaoDir}/{dll}.dhao.bytes";\n            dstFile = $"{hotUpdateDatasDir}/{dll}.dhao.bytes";\n            System.IO.File.Copy(dhaoFile, dstFile, true);\n            Debug.Log($"Copy: {dhaoFile} -> {dstFile}");\n        }\n    }\n}\n\n\n')),(0,a.kt)("h2",{id:"create-a-hot-update-script"},"Create a hot update script"),(0,a.kt)("p",null,"Create the ",(0,a.kt)("inlineCode",{parentName:"p"},"Assets/HotUpdate/Hello.cs")," file, the code content is as follows"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-csharp"},'using System.Collections;\nusing UnityEngine;\n\npublic class Hello\n{\n    public static void Run()\n    {\n        // Original code\n        Debug.Log("Hello, World");\n        // After hot update, change to\n        //Debug.Log("Hello, HybridCLR");\n    }\n}\n')),(0,a.kt)("h2",{id:"load-the-hot-update-assembly"},"Load the hot update assembly"),(0,a.kt)("p",null,"To simplify the demonstration, we do not download HotUpdate.dll through the http server, but directly put HotUpdate.dll in the StreamingAssets directory."),(0,a.kt)("p",null,"Create the ",(0,a.kt)("inlineCode",{parentName:"p"},"Assets/LoadDll.cs")," script, and then ",(0,a.kt)("strong",{parentName:"p"},"create a GameObject object in the main scene and mount the LoadDll script"),"."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-csharp"},'using HybridCLR;\nusing System;\nusing System.Collections;\nusing System.Collections.Generic;\nusing System.IO;\nusing System.Linq;\nusing System.Reflection;\nusing System.Security.Cryptography;\nusing System.Text;\nusing System.Threading.Tasks;\nusing UnityEngine;\nusing UnityEngine.Networking;\n\npublic class LoadDll : MonoBehaviour\n{\n\n    void Start()\n    {\n        // Editor\u73af\u5883\u4e0b\uff0cHotUpdate.dll.bytes\u5df2\u7ecf\u88ab\u81ea\u52a8\u52a0\u8f7d\uff0c\u4e0d\u9700\u8981\u52a0\u8f7d\uff0c\u91cd\u590d\u52a0\u8f7d\u53cd\u800c\u4f1a\u51fa\u95ee\u9898\u3002\n#if !UNITY_EDITOR\n        LoadDifferentialHybridAssembly("HotUpdate");\n#endif\n        Assembly hotUpdateAss = System.AppDomain.CurrentDomain.GetAssemblies().First(a => a.GetName().Name == "HotUpdate");\n        Type helloType = hotUpdateAss.GetType("Hello");\n        MethodInfo runMethod = helloType.GetMethod("Run");\n        runMethod.Invoke(null, null);\n    }\n\n\n    /// <summary>\n    /// \n    /// </summary>\n    /// <param name="assName">\u4e0d\u542b\u6587\u4ef6\u540d\u540e\u7f00\u7684\u7a0b\u5e8f\u96c6\u540d\uff0c\u5982HotUpdate</param>\n    /// <returns></returns>\n    private void LoadDifferentialHybridAssembly(string assName)\n    {\n        string assFile = $"{Application.streamingAssetsPath}/{assName}.dll.bytes";\n        // \u5982\u679c\u4e0d\u5b58\u5728\uff0c\u5219\u4f7f\u7528\u539f\u59cbAOT\u7a0b\u5e8f\u96c6\n        if (!File.Exists(assFile))\n        {\n            LoadImageErrorCode err = RuntimeApi.LoadOriginalDifferentialHybridAssembly(assName);\n            if (err == LoadImageErrorCode.OK)\n            {\n                Debug.Log($"LoadOriginalDifferentialHybridAssembly {assName} OK");\n            }\n            else\n            {\n                Debug.LogError($"LoadOriginalDifferentialHybridAssembly {assName} failed, err={err}");\n            }\n        }\n        else\n        {\n            byte[] dllBytes = File.ReadAllBytes($"{Application.streamingAssetsPath}/{assName}.dll.bytes");\n            byte[] dhaoBytes = File.ReadAllBytes($"{Application.streamingAssetsPath}/{assName}.dhao.bytes");\n            LoadImageErrorCode err = RuntimeApi.LoadDifferentialHybridAssemblyUnchecked(dllBytes, dhaoBytes);\n            if (err == LoadImageErrorCode.OK)\n            {\n                Debug.Log($"LoadDifferentialHybridAssembly {assName} OK");\n            }\n            else\n            {\n                Debug.LogError($"LoadDifferentialHybridAssembly {assName} failed, err={err}");\n            }\n        }\n    }\n}\n\n\n')),(0,a.kt)("p",null,"At this point, the creation of the entire hot update project is completed! ! !"),(0,a.kt)("h2",{id:"trial-run-in-editor"},"Trial run in Editor"),(0,a.kt)("p",null,"Run the main scene, and 'Hello, World' will be displayed on the screen, indicating that the code is working properly."),(0,a.kt)("h2",{id:"build-the-game"},"Build the game"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Run the menu ",(0,a.kt)("inlineCode",{parentName:"li"},"HybridCLR/Generate/All")," to perform necessary generation operations. ",(0,a.kt)("strong",{parentName:"li"},"This step cannot be omitted"),"!!!"),(0,a.kt)("li",{parentName:"ul"},"Open the ",(0,a.kt)("inlineCode",{parentName:"li"},"Build Settings")," dialog box, click ",(0,a.kt)("inlineCode",{parentName:"li"},"Build"),", select the output directory ",(0,a.kt)("inlineCode",{parentName:"li"},"{build}"),", and execute the build"),(0,a.kt)("li",{parentName:"ul"},"Run ",(0,a.kt)("inlineCode",{parentName:"li"},"BuildTools/BackupAOTDll")," to back up the dhe dll generated during the build. ",(0,a.kt)("strong",{parentName:"li"},"This step must be after ",(0,a.kt)("inlineCode",{parentName:"strong"},"Build")),", because the original AOT dll must be the dll generated during the build, not generated during ",(0,a.kt)("inlineCode",{parentName:"li"},"HybridCLR/Generate/all"))),(0,a.kt)("admonition",{type:"tip"},(0,a.kt)("p",{parentName:"admonition"},"The dll backed up by ",(0,a.kt)("inlineCode",{parentName:"p"},"BuildTools/BackupAOTDll")," should be added to the version management for generating dhao files during future hot updates.")),(0,a.kt)("h2",{id:"first-package-test"},"First package test"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Run ",(0,a.kt)("inlineCode",{parentName:"li"},"{build}/Xxx.exe"),", and the screen displays ",(0,a.kt)("inlineCode",{parentName:"li"},"Hello, World"),", indicating that the original code has been executed!")),(0,a.kt)("h2",{id:"test-hot-update"},"Test hot update"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Please make sure that ",(0,a.kt)("inlineCode",{parentName:"li"},"BuildTools/BackupAOTDll")," has been executed in the ",(0,a.kt)("inlineCode",{parentName:"li"},"Build Game")," step. Run it once, do not run it multiple times"),(0,a.kt)("li",{parentName:"ul"},"Modify ",(0,a.kt)("inlineCode",{parentName:"li"},'Debug.Log("Hello, World")')," in the ",(0,a.kt)("inlineCode",{parentName:"li"},"Hello::Run")," function to ",(0,a.kt)("inlineCode",{parentName:"li"},'Debug.Log("Hello, HybridCLR")')),(0,a.kt)("li",{parentName:"ul"},"Run ",(0,a.kt)("inlineCode",{parentName:"li"},"BuildTools/CompileHotUpdateDllsAndGenerateDHAODatas")," to generate hot update dll and corresponding dhao files"),(0,a.kt)("li",{parentName:"ul"},"Run ",(0,a.kt)("inlineCode",{parentName:"li"},"BuildTools/CopyDllAndDhaoFileToHotUpdateDataDir")," to copy HotUpdate.dll.bytes and HotUpdate.dhao.bytes to the ",(0,a.kt)("inlineCode",{parentName:"li"},"HotUpdateDatas")," directory"),(0,a.kt)("li",{parentName:"ul"},"Manually copy HotUpdate.dll.bytes and HotUpdate.dhao.bytes in the ",(0,a.kt)("inlineCode",{parentName:"li"},"HotUpdateDatas")," directory to the ",(0,a.kt)("inlineCode",{parentName:"li"},"{build}\\StreamingAssets")," directory"),(0,a.kt)("li",{parentName:"ul"},"Run again, and ",(0,a.kt)("inlineCode",{parentName:"li"},"Hello, HybridCLR")," will be printed on the screen")),(0,a.kt)("p",null,"This completes the hot update experience! ! !"))}c.isMDXComponent=!0},68581:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/select_il2cpp_modules-d895c3fb5390e04b53e40ada2b422239.jpg"}}]);