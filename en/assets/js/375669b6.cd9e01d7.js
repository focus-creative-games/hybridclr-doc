"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[7995],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>y});var r=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=r.createContext({}),s=function(e){var t=r.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},c=function(e){var t=s(e.components);return r.createElement(p.Provider,{value:t},e.children)},d="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,p=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=s(n),u=i,y=d["".concat(p,".").concat(u)]||d[u]||m[u]||o;return n?r.createElement(y,a(a({ref:t},c),{},{components:n})):r.createElement(y,a({ref:t},c))}));function y(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,a=new Array(o);a[0]=u;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[d]="string"==typeof e?e:i,a[1]=l;for(var s=2;s<o;s++)a[s]=n[s];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}u.displayName="MDXCreateElement"},53434:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>a,default:()=>m,frontMatter:()=>o,metadata:()=>l,toc:()=>s});var r=n(87462),i=(n(67294),n(3905));const o={},a="Compiling Hot Update Assemblies",l={unversionedId:"basic/compileassembly",id:"basic/compileassembly",title:"Compiling Hot Update Assemblies",description:"Hot update code may contain macro switches like #if UNITYEDITOR and #if UNITYSTANDALONE_WIN, so each platform needs to compile hot update assemblies separately.",source:"@site/i18n/en/docusaurus-plugin-content-docs/current/basic/compileassembly.md",sourceDirName:"basic",slug:"/basic/compileassembly",permalink:"/en/docs/basic/compileassembly",draft:!1,tags:[],version:"current",frontMatter:{}},p={},s=[],c={toc:s},d="wrapper";function m(e){let{components:t,...n}=e;return(0,i.kt)(d,(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"compiling-hot-update-assemblies"},"Compiling Hot Update Assemblies"),(0,i.kt)("p",null,"Hot update code may contain macro switches like ",(0,i.kt)("inlineCode",{parentName:"p"},"#if UNITY_EDITOR")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"#if UNITY_STANDALONE_WIN"),", so each platform needs to compile hot update assemblies separately."),(0,i.kt)("p",null,"The assemblies in the ",(0,i.kt)("inlineCode",{parentName:"p"},"Library/ScriptAssemblies")," directory are compilation results when BuildTarget is Editor, and are affected by the ",(0,i.kt)("inlineCode",{parentName:"p"},"Debugger Enable")," option, so they cannot be used as hot update assemblies. We use Unity's ",(0,i.kt)("inlineCode",{parentName:"p"},"UnityEditor.Build.Player.PlayerBuildInterface.CompilePlayerScripts")," interface to compile hot update dlls for different BuildTargets. The compilation results are output to the ",(0,i.kt)("inlineCode",{parentName:"p"},"{proj}/HybridCLRData/HotUpdateDlls/{target}")," directory."),(0,i.kt)("p",null,"Run the menu ",(0,i.kt)("inlineCode",{parentName:"p"},"HybridCLR/Compile/xxx")," command to directly compile hot update dlls. When running ",(0,i.kt)("inlineCode",{parentName:"p"},"HybridCLR/Generate/All"),", it also implicitly compiles the latest hot update assemblies. After calling this command, you can directly copy the hot update dlls without running ",(0,i.kt)("inlineCode",{parentName:"p"},"HybridCLR/Compile/xxx")," again.\nSince this interface doesn't distinguish between AOT and hot update during compilation and compiles the entire project, developers only need to add the output hot update dlls to the project's resource management system."),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"HybridCLR.Editor")," assembly in com.code-philosophy.hybridclr provides the ",(0,i.kt)("inlineCode",{parentName:"p"},"HybridCLR.Editor.Commands.CompileDllCommand.CompileDll(BuildTarget target)")," interface,\nmaking it convenient for developers to flexibly compile hot update dlls themselves."),(0,i.kt)("p",null,"After releasing the main package, each hot update only requires simply using the ",(0,i.kt)("inlineCode",{parentName:"p"},"HybridCLR/Compile/xxx")," command to recompile hot update dlls and then release the hot update dlls. There's no need to run ",(0,i.kt)("inlineCode",{parentName:"p"},"HybridCLR/Generate/xxx")," commands."))}m.isMDXComponent=!0}}]);