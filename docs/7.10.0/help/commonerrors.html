<!doctype html>
<html lang="zh-cn" dir="ltr" class="docs-wrapper docs-doc-page docs-version-7.10.0 plugin-docs plugin-id-default docs-doc-id-help/commonerrors">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">常见错误 | HybridCLR</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://www.hybridclr.cn/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://www.hybridclr.cn/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://www.hybridclr.cn/docs/7.10.0/help/commonerrors"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="docusaurus_version" content="7.10.0"><meta data-rh="true" name="docusaurus_tag" content="docs-default-7.10.0"><meta data-rh="true" name="docsearch:version" content="7.10.0"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-7.10.0"><meta data-rh="true" property="og:title" content="常见错误 | HybridCLR"><meta data-rh="true" name="description" content="目前提交的版本都经过测试，基本不可能出现编译错误及崩溃或者基础的运行错误。如果查看了常见错误，还未能解决问题，请将com.code-philosophy.hybridclr、hybridclr、il2cpp_plus更新到最新版本，再试一次。"><meta data-rh="true" property="og:description" content="目前提交的版本都经过测试，基本不可能出现编译错误及崩溃或者基础的运行错误。如果查看了常见错误，还未能解决问题，请将com.code-philosophy.hybridclr、hybridclr、il2cpp_plus更新到最新版本，再试一次。"><link data-rh="true" rel="icon" href="/img/logo.png"><link data-rh="true" rel="canonical" href="https://www.hybridclr.cn/docs/7.10.0/help/commonerrors"><link data-rh="true" rel="alternate" href="https://www.hybridclr.cn/docs/7.10.0/help/commonerrors" hreflang="zh-cn"><link data-rh="true" rel="alternate" href="https://www.hybridclr.cn/en/docs/7.10.0/help/commonerrors" hreflang="en-us"><link data-rh="true" rel="alternate" href="https://www.hybridclr.cn/docs/7.10.0/help/commonerrors" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://MHX0T95QPO-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="HybridCLR RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="HybridCLR Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="HybridCLR" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.d067dcfb.css">
<link rel="preload" href="/assets/js/runtime~main.6d3d986b.js" as="script">
<link rel="preload" href="/assets/js/main.651e32b8.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.png" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">HybridCLR</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/7.10.0/intro">文档</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/focus-creative-games/hybridclr" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/7.10.0/intro">7.10.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/help/commonerrors">latest</a></li><li><a class="dropdown__link" href="/docs/8.5.0/help/commonerrors">8.5.0</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/7.10.0/help/commonerrors">7.10.0</a></li><li><a class="dropdown__link" href="/docs/7.8.1/help/commonerrors">7.8.1</a></li><li><a class="dropdown__link" href="/docs/7.6.0/help/commonerrors">7.6.0</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>中文</a><ul class="dropdown__menu"><li><a href="/docs/7.10.0/help/commonerrors" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh-cn">中文</a></li><li><a href="/en/docs/7.10.0/help/commonerrors" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en-us">English</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/7.10.0/intro">介绍</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/7.10.0/other/businesscase">商业项目案例</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/docs/7.10.0/beginner">新手教程</a><button aria-label="打开/收起侧边栏菜单「新手教程」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/7.10.0/beginner/quickstart">快速上手</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/7.10.0/beginner/monobehaviour">使用MonoBehaviour</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/7.10.0/beginner/generic">使用泛型</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/7.10.0/beginner/otherhelp">其他资料</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/7.10.0/basic">使用指南</a><button aria-label="打开/收起侧边栏菜单「使用指南」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/7.10.0/business">商业化版本</a><button aria-label="打开/收起侧边栏菜单「商业化版本」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/7.10.0/help">帮助</a><button aria-label="打开/收起侧边栏菜单「帮助」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/7.10.0/help/faq">FAQ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/7.10.0/help/commonerrors">常见错误</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/7.10.0/help/issue">BUG反馈模板</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/7.10.0/other">其他</a><button aria-label="打开/收起侧边栏菜单「其他」" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="收起侧边栏" aria-label="收起侧边栏" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>此为 <!-- -->HybridCLR<!-- --> <b>7.10.0</b> 版的文档，现已不再积极维护。</div><div class="margin-top--md">最新的文档请参阅 <b><a href="/docs/help/commonerrors">最新版本</a></b> (<!-- -->latest<!-- -->)。</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/7.10.0/help"><span itemprop="name">帮助</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">常见错误</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">版本：7.10.0</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>常见错误</h1><p>目前提交的版本都经过测试，基本不可能出现编译错误及崩溃或者基础的运行错误。如果查看了常见错误，还未能解决问题，请将com.code-philosophy.hybridclr、hybridclr、il2cpp_plus更新到最新版本，再试一次。
如果仍然没有解决问题，可以加入以下群：</p><ul><li>新手1群：428404198（满）</li><li>新手2群：<strong>680274677（推荐）</strong></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="unity-editor下的错误">Unity Editor下的错误<a href="#unity-editor下的错误" class="hash-link" aria-label="Unity Editor下的错误的直接链接" title="Unity Editor下的错误的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="package-manager中安装-comcode-philosophyhybridclr时出现-package名与comfocus-creative-gameshybridclr_unity不匹配的错误">Package Manager中安装 com.code-philosophy.hybridclr时出现 package名与com.focus-creative-games.hybridclr_unity不匹配的错误<a href="#package-manager中安装-comcode-philosophyhybridclr时出现-package名与comfocus-creative-gameshybridclr_unity不匹配的错误" class="hash-link" aria-label="Package Manager中安装 com.code-philosophy.hybridclr时出现 package名与com.focus-creative-games.hybridclr_unity不匹配的错误的直接链接" title="Package Manager中安装 com.code-philosophy.hybridclr时出现 package名与com.focus-creative-games.hybridclr_unity不匹配的错误的直接链接">​</a></h3><p>从3.0.0版本起，com.focus-creative-games.hybridclr_unity改名com.code-philosophy.hybridclr，因此直接升级安装会出现这个错误。</p><p>解决办法：先移除旧版本的com.focus-creative-games.hybridclr_unity，再重新安装最新版本即可。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="点击-hybridclrsetting未能找到hybridclr设置界面">点击 <code>HybridCLR/Setting</code>，未能找到HybridCLR设置界面<a href="#点击-hybridclrsetting未能找到hybridclr设置界面" class="hash-link" aria-label="点击-hybridclrsetting未能找到hybridclr设置界面的直接链接" title="点击-hybridclrsetting未能找到hybridclr设置界面的直接链接">​</a></h3><p>删除 <code>ProjectSettings/HybridCLRSettings.asset</code>文件即可。如果仍未显示，则重启Unity Editor。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="installer中安装时出现-win32exceptionapplicationnamegit-xxxx-native-erro系统找不到指定的文件-错误">Installer中安装时出现 <code>Win32Exception:ApplicationName=&#x27;git&#x27;, xxxx, Native erro=系统找不到指定的文件。</code> 错误<a href="#installer中安装时出现-win32exceptionapplicationnamegit-xxxx-native-erro系统找不到指定的文件-错误" class="hash-link" aria-label="installer中安装时出现-win32exceptionapplicationnamegit-xxxx-native-erro系统找不到指定的文件-错误的直接链接" title="installer中安装时出现-win32exceptionapplicationnamegit-xxxx-native-erro系统找不到指定的文件-错误的直接链接">​</a></h3><p>因为git未安装（Windows 下安装 <a href="https://gitforwindows.org/" target="_blank" rel="noopener noreferrer">GitForWindows</a>。其他平台请自己酌情安装），或者安装git后未重启UnityEditor和UnityHub。如果你确信安装了git，cmd中也确实能运行git，则尝试重启电脑。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="installer点击安装出现git不是内部或外部命令也不是可运行的程序">Installer点击安装出现：git不是内部或外部命令，也不是可运行的程序<a href="#installer点击安装出现git不是内部或外部命令也不是可运行的程序" class="hash-link" aria-label="Installer点击安装出现：git不是内部或外部命令，也不是可运行的程序的直接链接" title="Installer点击安装出现：git不是内部或外部命令，也不是可运行的程序的直接链接">​</a></h3><p>同上。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="使用installer安装时发生-directorynotfoundexception-counld-not-find-a-part-of-the-path-xxx">使用Installer安装时发生 DirectoryNotFoundException: Counld not find a part of the path &#x27;xxx&#x27;<a href="#使用installer安装时发生-directorynotfoundexception-counld-not-find-a-part-of-the-path-xxx" class="hash-link" aria-label="使用Installer安装时发生 DirectoryNotFoundException: Counld not find a part of the path &#x27;xxx&#x27;的直接链接" title="使用Installer安装时发生 DirectoryNotFoundException: Counld not find a part of the path &#x27;xxx&#x27;的直接链接">​</a></h3><p>有几种原因：</p><ul><li>如果出错目录不存在，则因为网络或者各种原因，git clone hybridclr或il2cpp_plus仓库失败了。 此时你可以重试几次。</li><li>如果出错目录存在，则因为路径长度超过256字符导致。请避免过深的目录。</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="使用installer安装时提示monocompilerservicessymbolwriterdll-path-is-too-long-copy-ignore">使用Installer安装时提示Mono.CompilerServices.SymbolWriter.dll path is too long. copy ignore!<a href="#使用installer安装时提示monocompilerservicessymbolwriterdll-path-is-too-long-copy-ignore" class="hash-link" aria-label="使用Installer安装时提示Mono.CompilerServices.SymbolWriter.dll path is too long. copy ignore!的直接链接" title="使用Installer安装时提示Mono.CompilerServices.SymbolWriter.dll path is too long. copy ignore!的直接链接">​</a></h3><p>MonoBleedingEdge在installer中会被复制到 HybridCLrData， 但这个目录中的 lib\mono目录其实是没有用到的，所以是没有影响的。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="exception-regionunity_config-start-not-find">Exception. region:UNITY_CONFIG start not find<a href="#exception-regionunity_config-start-not-find" class="hash-link" aria-label="Exception. region:UNITY_CONFIG start not find的直接链接" title="Exception. region:UNITY_CONFIG start not find的直接链接">​</a></h3><p>hybridclr_unity版本过低。请升级最新版本。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="exception-regionplace_holder-start-not-find">Exception. region:PLACE_HOLDER start not find<a href="#exception-regionplace_holder-start-not-find" class="hash-link" aria-label="Exception. region:PLACE_HOLDER start not find的直接链接" title="Exception. region:PLACE_HOLDER start not find的直接链接">​</a></h3><p>com.code-philosophy.hybridclr为较新版本，但hybridclr代码太旧导致。</p><p>要求你的 hybridclr及il2cpp_plus必须是main分支，并且更新到最新。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="exception-regionxxxxxx-start-not-find">Exception. region:XXXXXX start not find<a href="#exception-regionxxxxxx-start-not-find" class="hash-link" aria-label="Exception. region:XXXXXX start not find的直接链接" title="Exception. region:XXXXXX start not find的直接链接">​</a></h3><p>com.code-philosophy.hybridclr 与 hybridclr及il2cpp_plus版本不匹配导致。</p><p>要求相同版本分支，并且同时更到最新（或者相匹配的版本，但大多数人很难知道哪个是相匹配的版本）。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="运行-hybridclrgeneratexxx-时发生-exception-resolve-assembly-yyyassembly-fail">运行 <code>HybridCLR/generate/xxx</code> 时发生 <code>Exception: resolve assembly: yyyAssembly fail</code><a href="#运行-hybridclrgeneratexxx-时发生-exception-resolve-assembly-yyyassembly-fail" class="hash-link" aria-label="运行-hybridclrgeneratexxx-时发生-exception-resolve-assembly-yyyassembly-fail的直接链接" title="运行-hybridclrgeneratexxx-时发生-exception-resolve-assembly-yyyassembly-fail的直接链接">​</a></h3><p>如果 yyyAssembly为<code>netstandard</code>，则因为项目中有程序集引用了.net standard，有几种方式会引起这种错误：</p><ul><li>Api Compatible Level为.net standard。 解决办法为将它切为 .Net 4.x或.Net Framework</li><li>你项目中使用了某个预编译好的dll，它引用了.net standard。解决办法为将这个dll换成引用.net framework的版本</li></ul><p>否则是因为没有找到依赖的AOT或者热更新dll。有几种原因导致这个结果：</p><ul><li>如果是以dll形式放到工程内的热更新dll未找到，则你需要在HybridCLRSettings的外部dll搜索路径中添加它所在的目录</li><li>你从未在主工程中使用过跟该dll相关代码，导致就算link.xml中保留了，仍然整个被裁剪。解决办法是在主工程中随便写段代码引用该dll中的某个类或函数。</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="运行-hybridclrgeneratexxx-时发生-nullreferenceexception-hybridclreditorabitypecreatorbasecreatetypeinfo-">运行 <code>HybridCLR/generate/xxx</code> 时发生 <code>NullReferenceException. HybridCLR.Editor.ABI.TypeCreatorBase.CreateTypeInfo ...</code><a href="#运行-hybridclrgeneratexxx-时发生-nullreferenceexception-hybridclreditorabitypecreatorbasecreatetypeinfo-" class="hash-link" aria-label="运行-hybridclrgeneratexxx-时发生-nullreferenceexception-hybridclreditorabitypecreatorbasecreatetypeinfo-的直接链接" title="运行-hybridclrgeneratexxx-时发生-nullreferenceexception-hybridclreditorabitypecreatorbasecreatetypeinfo-的直接链接">​</a></h3><p>如果你的com.code-philosophy.hybridclr package版本低于 1.1.6,则因为你的项目中存在 mscorlib.dll、System.Memory.dll、UnityEngine.dll等跟系统dll重名的冲突dll，导致解析dll时错误地读取了这些dll，进而发生错误。</p><p>如果版本 &gt;= 1.1.6, 由于生成桥接函数需要依赖裁减后的AOT dll，而你的AOT dll是旧的，导致热更新代码中依赖的类型在AOT dll中因为卸载而缺失了。因此你需要先 <code>generate/linkxml</code>，再build或者导出工程以生成裁剪后的aot dll，再运行你当前的 <code>generate/xxx</code> 命令。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="打包ios版本时未生成-assembliespostil2cppstrip-目录">打包iOS版本时未生成 AssembliesPostIl2CppStrip 目录<a href="#打包ios版本时未生成-assembliespostil2cppstrip-目录" class="hash-link" aria-label="打包iOS版本时未生成 AssembliesPostIl2CppStrip 目录的直接链接" title="打包iOS版本时未生成 AssembliesPostIl2CppStrip 目录的直接链接">​</a></h3><p>升级com.code-philosophy.hybridclr版本到v2.0.0以上。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="buildfailedexceptoin-build-path-contains-a-project-prevously-built-without-the-create-visual-studio-solution">BuildFailedExceptoin: Build path contains a project prevously built without the &quot;Create Visual Studio Solution&quot;<a href="#buildfailedexceptoin-build-path-contains-a-project-prevously-built-without-the-create-visual-studio-solution" class="hash-link" aria-label="BuildFailedExceptoin: Build path contains a project prevously built without the &quot;Create Visual Studio Solution&quot;的直接链接" title="BuildFailedExceptoin: Build path contains a project prevously built without the &quot;Create Visual Studio Solution&quot;的直接链接">​</a></h3><p>运行 <code>generate/all</code>或者<code>generate/AOTDlls</code>时，会尝试进行导出工程以获得裁剪后的aot dll。如果你的项目之前打包时关闭了 <code>Create Visual Studio Solution</code> 选项，则Unity Editor自身原因，一定概率下会出现这个错误。</p><p>解决办法是清空 Library和Temp下的 il2cpp 相关缓存目录，或者简单粗暴删除这两个目录。</p><p>如果还是遇到这个问题，你完全可以自己手动build一次工程来生成aot dll，然后跳过 <code>generate/AOTDlls</code>这一步。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="打包时发生错误">打包时发生错误<a href="#打包时发生错误" class="hash-link" aria-label="打包时发生错误的直接链接" title="打包时发生错误的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="currently-selected-scripting-backend-il2cpp-is-not-installed">Currently selected scripting backend (IL2CPP) is not installed<a href="#currently-selected-scripting-backend-il2cpp-is-not-installed" class="hash-link" aria-label="Currently selected scripting backend (IL2CPP) is not installed的直接链接" title="Currently selected scripting backend (IL2CPP) is not installed的直接链接">​</a></h3><p>请在Unity Hub安装il2cpp模块。操作方式为：</p><ul><li>切到UnityHub左侧的 Installers 标签页</li><li>你在当前使用的Unity版本上 <code>右键 -&gt; Add Modules</code>，选中当前平台的IL2CPP组件，例如Win平台选 <code>Windows Build Support(Il2CPP)</code></li><li>安装</li><li>重新打开Unity Editor</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="exception-c-code-bulider-is-unable-to-build-c-code-inorder-to-build-c-code-for-windows-destop-you-must-have-one-of-these-installed-xxxxx">`Exception: C++ code bulider is unable to build C+ code. Inorder to build C++ code for Windows Destop, You must have one of these installed. xxxxx<a href="#exception-c-code-bulider-is-unable-to-build-c-code-inorder-to-build-c-code-for-windows-destop-you-must-have-one-of-these-installed-xxxxx" class="hash-link" aria-label="`Exception: C++ code bulider is unable to build C+ code. Inorder to build C++ code for Windows Destop, You must have one of these installed. xxxxx的直接链接" title="`Exception: C++ code bulider is unable to build C+ code. Inorder to build C++ code for Windows Destop, You must have one of these installed. xxxxx的直接链接">​</a></h3><p>你没有安装 vs 及 win 10 sdk。请安装vs，并且在 Visutal Studio Installer中安装 <code>使用c++的游戏开发</code> 这个组件。 win 10 sdk选最新的即可。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="遇到-undefined-symbols-for-architecture-arm64--_objc_msgsendinitwithname-referenced-from------il2cppostimezoneinfogettimezonedataforid">遇到 Undefined symbols for architecture arm64:  &quot;_objc_msgSend$initWithName:&quot;, referenced from:      il2cpp::os::TimeZoneInfo::GetTimeZoneDataForID<a href="#遇到-undefined-symbols-for-architecture-arm64--_objc_msgsendinitwithname-referenced-from------il2cppostimezoneinfogettimezonedataforid" class="hash-link" aria-label="遇到 Undefined symbols for architecture arm64:  &quot;_objc_msgSend$initWithName:&quot;, referenced from:      il2cpp::os::TimeZoneInfo::GetTimeZoneDataForID的直接链接" title="遇到 Undefined symbols for architecture arm64:  &quot;_objc_msgSend$initWithName:&quot;, referenced from:      il2cpp::os::TimeZoneInfo::GetTimeZoneDataForID的直接链接">​</a></h3><p>xcode版本太旧导致。更新到较新版本。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="打包出现-undefined-symbols-runtimeapi_loadmetadataforaotassembly-或-hybridclrapi_loadmetadataforaotassembly">打包出现 Undefined symbols： RuntimeApi_LoadMetadataForAOTAssembly 或 hybridclrApi_LoadMetadataForAOTAssembly<a href="#打包出现-undefined-symbols-runtimeapi_loadmetadataforaotassembly-或-hybridclrapi_loadmetadataforaotassembly" class="hash-link" aria-label="打包出现 Undefined symbols： RuntimeApi_LoadMetadataForAOTAssembly 或 hybridclrApi_LoadMetadataForAOTAssembly的直接链接" title="打包出现 Undefined symbols： RuntimeApi_LoadMetadataForAOTAssembly 或 hybridclrApi_LoadMetadataForAOTAssembly的直接链接">​</a></h3><p>根本原因是因为你使用的是原始libil2cpp代码，有几个情形会导致这个结果：</p><ul><li>Scripting Backend 错误选择了 Mono</li><li>开启了<code>全局安装</code>选项，但没有正确替换Editor安装目录的libil2cpp</li><li>com.code-philosophy.hybridclr的版本低于v3.1.0，同时没有替换xcode工程的libil2cpp.a文件。请根据 <a href="/docs/7.10.0/basic/buildpipeline">build iOS libil2cpp.a</a> 文档编译最新的。然后替换xcode项目中的libil2cpp.a文件</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="building-librarybeeartifactsxxxx-failed-with-output-fatalerror-in-unitiy-cil-linker-monocecilassemblyresolutionexception-failed-to-resolve-assemblyxxx">Building Library/Bee/artifacts/xxxx failed with output: Fatalerror in Unitiy CIL Linker Mono.Cecil.AssemblyResolutionException: Failed to resolve assembly:&#x27;xxx&#x27;<a href="#building-librarybeeartifactsxxxx-failed-with-output-fatalerror-in-unitiy-cil-linker-monocecilassemblyresolutionexception-failed-to-resolve-assemblyxxx" class="hash-link" aria-label="Building Library/Bee/artifacts/xxxx failed with output: Fatalerror in Unitiy CIL Linker Mono.Cecil.AssemblyResolutionException: Failed to resolve assembly:&#x27;xxx&#x27;的直接链接" title="Building Library/Bee/artifacts/xxxx failed with output: Fatalerror in Unitiy CIL Linker Mono.Cecil.AssemblyResolutionException: Failed to resolve assembly:&#x27;xxx&#x27;的直接链接">​</a></h3><p>你失误地在主工程里引用 &#x27;xxx&#x27; 这个热更新dll。 如果你找不到到底哪儿引用的，可以尝试先删掉 &#x27;xxx&#x27; 这个热更新模块，根据编译错误来定位。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="webgl平台打包时遇到-undefine-symbol-send-file-之类的错误">WebGL平台打包时遇到 undefine symbol: send file 之类的错误<a href="#webgl平台打包时遇到-undefine-symbol-send-file-之类的错误" class="hash-link" aria-label="WebGL平台打包时遇到 undefine symbol: send file 之类的错误的直接链接" title="WebGL平台打包时遇到 undefine symbol: send file 之类的错误的直接链接">​</a></h3><p>这个错误跟HybridCLR无关。 这是因为WebGL对很多函数有限制，比如说send file符号丢失是因为不能调用IO相关函数。遇到问题请自己剔除那些WebGL平台不支持函数。具体自己阅读Unity文档。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="win-下-打包时遇到-xxxxil2cpplibil2cpputilsil2cpphashmaph71-error-c2039-hash_compare-is-not-a-member-of-stdext">Win 下 打包时遇到 <code>xxxx\\il2cpp\\libil2cpp\\utils\\Il2CppHashMap.h(71): error C2039: &#x27;hash_compare&#x27;: is not a member of &#x27;stdext&#x27;</code><a href="#win-下-打包时遇到-xxxxil2cpplibil2cpputilsil2cpphashmaph71-error-c2039-hash_compare-is-not-a-member-of-stdext" class="hash-link" aria-label="win-下-打包时遇到-xxxxil2cpplibil2cpputilsil2cpphashmaph71-error-c2039-hash_compare-is-not-a-member-of-stdext的直接链接" title="win-下-打包时遇到-xxxxil2cpplibil2cpputilsil2cpphashmaph71-error-c2039-hash_compare-is-not-a-member-of-stdext的直接链接">​</a></h3><p>这是.net 7发布后最新版本vs改动打破了一些向后兼容性引起。com.code-philosophy.hybridclr <code>v2.4.0</code>版本已经完全解决了此问题。你可以升级到此版本或者回退到visual studio 2022的旧版本或者使用2019之类的版本。</p><p>一种不需要回退vs版本的解决办法是修改 <code>HybridCLRData/LocalIl2CppData-{platform}/il2cpp/external/google/sparsehash/internal/sparseconfig.h</code>，新增 <code>#define _SILENCE_STDEXT_HASH_DEPRECATION_WARNINGS</code> 即可。可参照下图修改。</p><p><img loading="lazy" alt="stdext_error" src="/assets/images/stdext_error-361f52268511c28f121b8f53aed67960.jpg" width="1641" height="404" class="img_ev3q"></p><p>其他解决办法参见<a href="https://forum.unity.com/threads/workaround-for-building-with-il2cpp-with-visual-studio-2022-17-4.1355570/" target="_blank" rel="noopener noreferrer">链接</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="fatal-error-icallsmscorlibsystemmonotypeh-file-not-found-include-icallsmscorlibsystemmonotypeh">fatal error: &#x27;icalls/mscorlib/System/MonoType.h&#x27; file not found #include &quot;icalls/mscorlib/System/MonoType.h&quot;<a href="#fatal-error-icallsmscorlibsystemmonotypeh-file-not-found-include-icallsmscorlibsystemmonotypeh" class="hash-link" aria-label="fatal error: &#x27;icalls/mscorlib/System/MonoType.h&#x27; file not found #include &quot;icalls/mscorlib/System/MonoType.h&quot;的直接链接" title="fatal error: &#x27;icalls/mscorlib/System/MonoType.h&#x27; file not found #include &quot;icalls/mscorlib/System/MonoType.h&quot;的直接链接">​</a></h3><p>你没有生成正确的版本宏，请运行 <code>HybridCLR/Generate/All</code> 后再打包。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="internal-build-system-error-buildprogram-exited-with-code--2147024894">Internal build system error. BuildProgram exited with code -2147024894.<a href="#internal-build-system-error-buildprogram-exited-with-code--2147024894" class="hash-link" aria-label="Internal build system error. BuildProgram exited with code -2147024894.的直接链接" title="Internal build system error. BuildProgram exited with code -2147024894.的直接链接">​</a></h3><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Internal build system error. BuildProgram exited with code -2147024894.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">System.IO.FileNotFoundException: Could not load file or assembly &#x27;Unity.IL2CPP.Bee.BuildLogic.WindowsDesktop, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null&#x27;. </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">File name: &#x27;Unity.IL2CPP.Bee.BuildLogic.WindowsDesktop, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>这是因为你Installer中安装后切换了Unity项目的版本，导致Build Tool不匹配导致。解决办法为在<code>HybridCLR/Installer...</code>中重新安装一次即可。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="打包时出现-directorynotfoundexception-xxxxlibrarybeeartifactsyyyymanagedstripted-错误">打包时出现 DirectoryNotFoundException: xxxx\Library\Bee\artifacts\yyyy\ManagedStripted 错误<a href="#打包时出现-directorynotfoundexception-xxxxlibrarybeeartifactsyyyymanagedstripted-错误" class="hash-link" aria-label="打包时出现 DirectoryNotFoundException: xxxx\Library\Bee\artifacts\yyyy\ManagedStripted 错误的直接链接" title="打包时出现 DirectoryNotFoundException: xxxx\Library\Bee\artifacts\yyyy\ManagedStripted 错误的直接链接">​</a></h3><p>你错误地设置 Scripting BackEngine 为 mono导致的。有时候你尽管之前已经切到il2cpp了，但切换平台时仍然可能被Editor重置为mono。解决办法为切换到il2cpp即可。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="打包webgl平台时出现-directorynotfoundexception-xxxhybridclrdatalocalil2cppdata-yyyil2cppil2cpp-deps--错误">打包WebGL平台时出现 DirectoryNotFoundException: xxx\HybridCLRData\LocalIl2CppData-{yyy}\il2cpp\il2cpp-deps  错误<a href="#打包webgl平台时出现-directorynotfoundexception-xxxhybridclrdatalocalil2cppdata-yyyil2cppil2cpp-deps--错误" class="hash-link" aria-label="打包WebGL平台时出现 DirectoryNotFoundException: xxx\HybridCLRData\LocalIl2CppData-{yyy}\il2cpp\il2cpp-deps  错误的直接链接" title="打包WebGL平台时出现 DirectoryNotFoundException: xxx\HybridCLRData\LocalIl2CppData-{yyy}\il2cpp\il2cpp-deps  错误的直接链接">​</a></h3><p>WebGL必须使用全局安装，即 HybridCLRSettings中useGlobal为true。 切记每次<code>Generate/xxx</code>之后必须重新将<code>{project}/HybridCLRData/LocalIl2CppData-{platform}/il2cpp/libil2cpp</code>
目录复制到Editor安装目录，再打包。否则有可能会出现 Scripting Missing或者桥接函数缺失之类的错误。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="打包时出现-gc_set_mark_stck_empty-函数找不到或者签名不匹配的错误">打包时出现 GC_set_mark_stck_empty 函数找不到或者签名不匹配的错误<a href="#打包时出现-gc_set_mark_stck_empty-函数找不到或者签名不匹配的错误" class="hash-link" aria-label="打包时出现 GC_set_mark_stck_empty 函数找不到或者签名不匹配的错误的直接链接" title="打包时出现 GC_set_mark_stck_empty 函数找不到或者签名不匹配的错误的直接链接">​</a></h3><p>这是自Unity2021.3.20起修改了这个函数签名引发的问题。更新到com.code-philosophy.hybridclr 2.0.10+ 版本，重新install即可解决。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="打包webgl平台出现-buildjs-undefined-symbol-runtimeapi_loadmetadataforaotassembly-referenced-by-top-level-compiled-cc-code">打包WebGL平台出现 <code>build.js: undefined symbol: RuntimeApi_LoadMetadataForAOTAssembly (referenced by top-level compiled C/C++ code)</code><a href="#打包webgl平台出现-buildjs-undefined-symbol-runtimeapi_loadmetadataforaotassembly-referenced-by-top-level-compiled-cc-code" class="hash-link" aria-label="打包webgl平台出现-buildjs-undefined-symbol-runtimeapi_loadmetadataforaotassembly-referenced-by-top-level-compiled-cc-code的直接链接" title="打包webgl平台出现-buildjs-undefined-symbol-runtimeapi_loadmetadataforaotassembly-referenced-by-top-level-compiled-cc-code的直接链接">​</a></h3><p>WebGL使用全局安装，你没有将本地<code>{project}/HybridCLRData/LocalIl2CppData-{platform}/il2cpp/libil2cpp</code>替换Editor安装目录的原始libil2cpp，导致缺失了函数。解决办法是：</p><ul><li>运行<code>HybridCLR/Generate/Il2cppDef</code>生成正确的版本宏</li><li>复制 <code>{project}/HybridCLRData/LocalIl2CppData-{platform}/il2cpp/libil2cpp</code> 替换Editor安装目录的原始libil2cpp。注意必须是替换目录，而不是合并目录，这个可能会导致多了一些文件而编译出错。
你也可以使用创建软链接的方式，详细请看<a href="/docs/7.10.0/basic/install">安装HybridCLR</a>中关于全局安装的文档。</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="打包webgl平台点击generateall发生错误">打包WebGL平台点击<code>Generate/All</code>发生错误<a href="#打包webgl平台点击generateall发生错误" class="hash-link" aria-label="打包webgl平台点击generateall发生错误的直接链接" title="打包webgl平台点击generateall发生错误的直接链接">​</a></h3><p>有两个原因：</p><ul><li>没有替换全局安装位置的libil2cpp或者创建其软链接</li><li>你使用了com.code-philosophy.hybridclr 2.1.0或更高版本，在替换全局libil2cpp前没有先运行一次<code>HybridCLR/Generate/Il2cppDef</code>，导致没有正确生成版本宏，进而引发编译错误。</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="打包出现-error-not-support-unity-version">打包出现 <code>#error: &quot;not support unity version&quot;</code><a href="#打包出现-error-not-support-unity-version" class="hash-link" aria-label="打包出现-error-not-support-unity-version的直接链接" title="打包出现-error-not-support-unity-version的直接链接">​</a></h3><p>有几种原因：</p><ul><li>你使用了 低于2019或者高于2021的版本，这些版本目前未被支持</li><li>你打包前未运行<code>HybridCLR/Generate/All</code>或者<code>HybridCLR/Generate/Il2CppDef</code>，导致未生成Unity版本宏</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="打包时出现-could-not-find-a-part-of-path-xxxxhybridclrgeneratedunityversionh">打包时出现 &#x27;could not find a part of path &quot;xxxx/hybridclr/generated/UnityVersion.h&quot;<a href="#打包时出现-could-not-find-a-part-of-path-xxxxhybridclrgeneratedunityversionh" class="hash-link" aria-label="打包时出现 &#x27;could not find a part of path &quot;xxxx/hybridclr/generated/UnityVersion.h&quot;的直接链接" title="打包时出现 &#x27;could not find a part of path &quot;xxxx/hybridclr/generated/UnityVersion.h&quot;的直接链接">​</a></h3><p>你更新 com.code-philosophy.hybridclr包后未重新install，导致本地lil2cpp目录代码过旧。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="打包时发现-undefined-symbols-for-architecture-arm64-il2cpputilsdebuggerxxxxx">打包时发现 &quot;Undefined symbols for architecture arm64: &quot;il2cpp::utils::Debugger::xxxxx&quot;<a href="#打包时发现-undefined-symbols-for-architecture-arm64-il2cpputilsdebuggerxxxxx" class="hash-link" aria-label="打包时发现 &quot;Undefined symbols for architecture arm64: &quot;il2cpp::utils::Debugger::xxxxx&quot;的直接链接" title="打包时发现 &quot;Undefined symbols for architecture arm64: &quot;il2cpp::utils::Debugger::xxxxx&quot;的直接链接">​</a></h3><p>原因是 build_libil2cpp.sh打包出的 libil2cpp.a是release模式的，与development模式的工程一起编译时会出现编译错误。</p><p>解决办法是去掉development build选项，或者说自己修改 build_libil2cpp.sh，打包出 debug模式的libil2cpp.a</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="打包时出现-error-undefined-reference-to-systemnative-converterrorpaltoplatform">打包时出现 <code>error: undefined reference to &#x27;SystemNative-ConvertErrorPalToPlatform&#x27;</code><a href="#打包时出现-error-undefined-reference-to-systemnative-converterrorpaltoplatform" class="hash-link" aria-label="打包时出现-error-undefined-reference-to-systemnative-converterrorpaltoplatform的直接链接" title="打包时出现-error-undefined-reference-to-systemnative-converterrorpaltoplatform的直接链接">​</a></h3><p>你用的Unity版本比较高，libil2cpp新增了一些函数。而你使用的hybridclr版本太低，没有包含这些高版本的函数。</p><p>解决办法：升级hybridclr版本，重新install即可。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="打包时出现-buildfailedexception-you-must-run-hybridclrinstaller-after-upgrading-package">打包时出现 <code>BuildFailedException: You must run </code>HybridCLR/Installer<code> after upgrading package</code><a href="#打包时出现-buildfailedexception-you-must-run-hybridclrinstaller-after-upgrading-package" class="hash-link" aria-label="打包时出现-buildfailedexception-you-must-run-hybridclrinstaller-after-upgrading-package的直接链接" title="打包时出现-buildfailedexception-you-must-run-hybridclrinstaller-after-upgrading-package的直接链接">​</a></h3><p>升级package后未执行Install。在<code>HybridCLR/Installer</code>中安装即可。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="出现-il2cpp_pop_active_exception-相关编译错误">出现 IL2CPP_POP_ACTIVE_EXCEPTION 相关编译错误<a href="#出现-il2cpp_pop_active_exception-相关编译错误" class="hash-link" aria-label="出现 IL2CPP_POP_ACTIVE_EXCEPTION 相关编译错误的直接链接" title="出现 IL2CPP_POP_ACTIVE_EXCEPTION 相关编译错误的直接链接">​</a></h3><p>因为2021.3.31和2022.3.11版本起，修改了该宏定义，导致在旧版本hybridclr上出现编译错误。解决办法为升级到最新hybridclr版本即可。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="出现-error-no-matching-function-for-call-to-il2cpp_codegen_get_marshal_directive_exception">出现 <code>error: no matching function for call to &#x27;il2cpp_codegen_get_marshal_directive_exception&#x27;</code><a href="#出现-error-no-matching-function-for-call-to-il2cpp_codegen_get_marshal_directive_exception" class="hash-link" aria-label="出现-error-no-matching-function-for-call-to-il2cpp_codegen_get_marshal_directive_exception的直接链接" title="出现-error-no-matching-function-for-call-to-il2cpp_codegen_get_marshal_directive_exception的直接链接">​</a></h3><p>因为你使用的hybridclr版本太旧，不支持你当前Unity版本。解决办法为升级到最新hybridclr版本。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="打包时出现编译错误通用处理办法">打包时出现编译错误，通用处理办法<a href="#打包时出现编译错误通用处理办法" class="hash-link" aria-label="打包时出现编译错误，通用处理办法的直接链接" title="打包时出现编译错误，通用处理办法的直接链接">​</a></h3><p>很大程度是你的package 和 hybridclr c++代码版本不匹配导致的或者你的Unity版本太新，hybridclr暂未支持。 你需要：</p><ul><li>更新com.code-philosophy.hybridclr到最新版本</li><li><code>HybridCLR/installer...</code> 里安装最新版本</li><li><code>HybridCLR/generate/all</code> 生成所有</li><li>打包</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="打包时出现buildingbuilderfailedexceptionin-file-included-from-xxxhybridclrdatalocalil2cppdata-platformil2cpp">打包时出现Building.BuilderFailedException:In file included from xxx\HybridCLRData\LocalIl2CppData-{platform}\il2cpp<a href="#打包时出现buildingbuilderfailedexceptionin-file-included-from-xxxhybridclrdatalocalil2cppdata-platformil2cpp" class="hash-link" aria-label="打包时出现Building.BuilderFailedException:In file included from xxx\HybridCLRData\LocalIl2CppData-{platform}\il2cpp的直接链接" title="打包时出现Building.BuilderFailedException:In file included from xxx\HybridCLRData\LocalIl2CppData-{platform}\il2cpp的直接链接">​</a></h3><p>如果你的版本为 2020.3.0-2020.3.25， 在Installer中完成安装后，从2020.3.26+任一版本的安装目录复制<code>2020.3.x/Editor/Data/il2cpp/external</code>替换 <code>{project}/HybridCLRData/LocalIl2CppData-{platform}/il2cpp/external</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="打包时出现-hybridclrdatallocall2cppdata-windowseditoril2cppllibil2cpphybridclrgeneratedreversepinvokemethodstubcpp-error-unknown-type-namestruct_xxx">打包时出现 &quot;HybridCLRDatal/Locall2CppData-WindowsEditor/il2cpp/llibil2cpp/hybridclr/generated/ReversePInvokeMethodStub.cpp: error: unknown type name&#x27;struct_xxx&#x27;&quot;<a href="#打包时出现-hybridclrdatallocall2cppdata-windowseditoril2cppllibil2cpphybridclrgeneratedreversepinvokemethodstubcpp-error-unknown-type-namestruct_xxx" class="hash-link" aria-label="打包时出现 &quot;HybridCLRDatal/Locall2CppData-WindowsEditor/il2cpp/llibil2cpp/hybridclr/generated/ReversePInvokeMethodStub.cpp: error: unknown type name&#x27;struct_xxx&#x27;&quot;的直接链接" title="打包时出现 &quot;HybridCLRDatal/Locall2CppData-WindowsEditor/il2cpp/llibil2cpp/hybridclr/generated/ReversePInvokeMethodStub.cpp: error: unknown type name&#x27;struct_xxx&#x27;&quot;的直接链接">​</a></h3><p>热更新中&#x27;<!-- -->[MonoPInvokeCallback]<!-- -->&#x27;函数不支持结构体作为函数参数或者返回值。解决办法为删除这些函数。如果你一定要解决这个问题，请联系付费技术支持。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="打包时出现-checksettings-methodbridgecpp-development-flagx-is-inconsistent-with-editoruserbuildsettingsdevelopmenty-please-run-hybridclrgenerateall-before-building">打包时出现 <!-- -->[CheckSettings]<!-- --> MethodBridge.cpp DEVELOPMENT flag:x is inconsistent with EditorUserBuildSettings.development:y. Please run &#x27;HybridCLR/Generate/All&#x27; before building.<a href="#打包时出现-checksettings-methodbridgecpp-development-flagx-is-inconsistent-with-editoruserbuildsettingsdevelopmenty-please-run-hybridclrgenerateall-before-building" class="hash-link" aria-label="打包时出现-checksettings-methodbridgecpp-development-flagx-is-inconsistent-with-editoruserbuildsettingsdevelopmenty-please-run-hybridclrgenerateall-before-building的直接链接" title="打包时出现-checksettings-methodbridgecpp-development-flagx-is-inconsistent-with-editoruserbuildsettingsdevelopmenty-please-run-hybridclrgenerateall-before-building的直接链接">​</a></h3><p>你<code>Generate/All</code>生成桥接函数时和打包时使用的development选项不一致，这会导致桥接函数与实际的AOT部分的对象大小不一致，将引发严重的错误。解决办法是重新<code>Generate/All</code>生成一次。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="在unity-6000及2023版本上构建iosvisionos等平台xcode工程时出现undefined-symbols-for-architecture-arm64-checkapplicationintegrityintegritychecklevel-链接错误">在Unity 6000及2023版本上构建iOS、visionOS等平台xcode工程时出现<code>Undefined symbols for architecture arm64: &quot;CheckApplicationIntegrity(IntegrityCheckLevel)&quot;</code> 链接错误<a href="#在unity-6000及2023版本上构建iosvisionos等平台xcode工程时出现undefined-symbols-for-architecture-arm64-checkapplicationintegrityintegritychecklevel-链接错误" class="hash-link" aria-label="在unity-6000及2023版本上构建iosvisionos等平台xcode工程时出现undefined-symbols-for-architecture-arm64-checkapplicationintegrityintegritychecklevel-链接错误的直接链接" title="在unity-6000及2023版本上构建iosvisionos等平台xcode工程时出现undefined-symbols-for-architecture-arm64-checkapplicationintegrityintegritychecklevel-链接错误的直接链接">​</a></h3><p>原理：</p><p>当使使用了UnityEngine.Debug类中某些函数时，由于这些函数是extern函数，但在libIphone.a中没有实现，导致出现此链接错误。正常情况下由于不会使用到那些函数，因此可以正常打包，但<code>HybridCLR/Generate/LinkXml</code>
时会对<code>UnityEngine.Debug</code>类preserve all，导致触发了这个错误。</p><p>该问题本质上是由Unity自身bug引起。hybridclr 6.1.0版本通过在生成的link.xml文件中忽略UnityEngine.Debug类来临时规避这个问题。</p><p>解决办法：</p><p>升级到com.code-philosohpy.hybridclr到6.1.0+版本。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="在团结引擎构建微信小游戏平台时出现hybridclr-doesnt-support-slim_global_metadata_file--1-错误">在团结引擎构建微信小游戏平台时出现<code>&quot;hybridclr doesn&#x27;t support &#x27;SLIM_GLOBAL_METADATA_FILE == 1&#x27; &quot;</code>错误<a href="#在团结引擎构建微信小游戏平台时出现hybridclr-doesnt-support-slim_global_metadata_file--1-错误" class="hash-link" aria-label="在团结引擎构建微信小游戏平台时出现hybridclr-doesnt-support-slim_global_metadata_file--1-错误的直接链接" title="在团结引擎构建微信小游戏平台时出现hybridclr-doesnt-support-slim_global_metadata_file--1-错误的直接链接">​</a></h3><p>团结引擎1.1.x为微信小游戏平台新增的metadta index slim优化会导致hybridclr无法在微信小游戏平台正常运行。
自团结引擎1.2.0版本起 WinxinMiniGame平台的Publishing Settings中新增了<code>Use Slim Format For global-metadata.dat</code>选项，禁用这个优化后可以正常使用hybridclr。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="运行时错误">运行时错误<a href="#运行时错误" class="hash-link" aria-label="运行时错误的直接链接" title="运行时错误的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="entrypointnotfoundexception-unable-to-find-entry-point-named-runtimeapi_loadmetadataforaotassembly-in-gameassembly">EntryPointNotFoundException. Unable to find entry point named &#x27;RuntimeApi_LoadMetadataForAOTAssembly&#x27; in &#x27;GameAssembly`<a href="#entrypointnotfoundexception-unable-to-find-entry-point-named-runtimeapi_loadmetadataforaotassembly-in-gameassembly" class="hash-link" aria-label="EntryPointNotFoundException. Unable to find entry point named &#x27;RuntimeApi_LoadMetadataForAOTAssembly&#x27; in &#x27;GameAssembly`的直接链接" title="EntryPointNotFoundException. Unable to find entry point named &#x27;RuntimeApi_LoadMetadataForAOTAssembly&#x27; in &#x27;GameAssembly`的直接链接">​</a></h3><p>有几种原因：</p><ul><li>你当前的scripting backend为mono，请切换到il2cpp。有时候因为缓存原因，即使切换了仍然会有错误，请清空Libraries目录后再试一次。</li><li>HybridCLRSettings里开启了全局安装。</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="a-scripted-object-probably-xxx-has-a-different-serialization-layout-when-loading-did-you-ifdef-unity_editor-a-section-of-your-serialized-properties-in-any-of-your-scripts">A scripted object (probably XXX?) has a different serialization layout when loading. Did you #ifdef UNITY_EDITOR a section of your serialized properties in any of your scripts?<a href="#a-scripted-object-probably-xxx-has-a-different-serialization-layout-when-loading-did-you-ifdef-unity_editor-a-section-of-your-serialized-properties-in-any-of-your-scripts" class="hash-link" aria-label="A scripted object (probably XXX?) has a different serialization layout when loading. Did you #ifdef UNITY_EDITOR a section of your serialized properties in any of your scripts?的直接链接" title="A scripted object (probably XXX?) has a different serialization layout when loading. Did you #ifdef UNITY_EDITOR a section of your serialized properties in any of your scripts?的直接链接">​</a></h3><p>主工程的AOT资源中引用了热更新脚本会导致这个错误。例如Resources下的资源引用了热更新脚本。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="挂载在资源上的脚本出现-script-missing-错误">挂载在资源上的脚本出现 Script Missing 错误<a href="#挂载在资源上的脚本出现-script-missing-错误" class="hash-link" aria-label="挂载在资源上的脚本出现 Script Missing 错误的直接链接" title="挂载在资源上的脚本出现 Script Missing 错误的直接链接">​</a></h3><p>有几种原因：</p><ul><li>由于Unity的资源管理的实现机制，资源必须打包为AssetBundle才能正常恢复热更新脚本，放到Resource下不行。详情请看 <a href="/docs/7.10.0/basic/monobehaviour">MonoBehaviour工作流</a>。</li><li>加载资源时还未加载对应的热更新程序集</li><li>脚本所在的程序集未加入到HybridCLR Settings中的hotUpdateDlls或者preservedHotUpdateDlls列表</li><li>修改HybridCLR Settings中的hotUpdateDlls或者preservedHotUpdateDlls列表后未Generate/All并且重新发主包</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="遇到--this-icall-is-not-supported-by-il2cpp-at-systemappdomainload">遇到  &quot;This icall is not supported by il2cpp at System.AppDomain.Load&quot;<a href="#遇到--this-icall-is-not-supported-by-il2cpp-at-systemappdomainload" class="hash-link" aria-label="遇到  &quot;This icall is not supported by il2cpp at System.AppDomain.Load&quot;的直接链接" title="遇到  &quot;This icall is not supported by il2cpp at System.AppDomain.Load&quot;的直接链接">​</a></h3><p>有两种原因</p><ol><li>如果ios平台，因为ios平台并不从源码编译libil2cpp，而是使预先编译好的libil2cpp.a，你需要替换xcode工程中的libil2cpp.a为HybridCLR的编译版本。编译方式请看<a href="/docs/7.10.0/basic/buildpipeline">build libil2cpp.a for iOS</a></li><li>如果是webgl平台，则因为使用全局安装后没有替换安装目录的libil2cpp或者没有建立安装目录libil2cpp到项目本地libil2cpp的软链接。详细见<a href="/docs/7.10.0/basic/buildwebgl">发布WebGL平台</a></li><li>如果其他平台，则因为未安装HybridCLR。请参照<a href="/docs/7.10.0/basic/install">安装HybridCLR</a>文档操作。</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="热更新中物理碰撞-collision未生效">热更新中物理碰撞 Collision未生效<a href="#热更新中物理碰撞-collision未生效" class="hash-link" aria-label="热更新中物理碰撞 Collision未生效的直接链接" title="热更新中物理碰撞 Collision未生效的直接链接">​</a></h3><p>一般是因为Collision脚本及相关功能被裁剪导致的。请确保相关脚本及dll不要被裁剪。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="unsupported-internal-call-for-il2cpp-xxxx">unsupported internal call for il2cpp. xxxx<a href="#unsupported-internal-call-for-il2cpp-xxxx" class="hash-link" aria-label="unsupported internal call for il2cpp. xxxx的直接链接" title="unsupported internal call for il2cpp. xxxx的直接链接">​</a></h3><p>调用了一个Mono中存在，但在il2cpp未实现的函数。请修改代码，不要使用这些类和函数。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="async-代码系统自带或者unitask之类打包后运行时抛出nullreferenceexception或者崩溃">async 代码（系统自带或者UniTask之类）打包后运行时抛出NullReferenceException或者崩溃<a href="#async-代码系统自带或者unitask之类打包后运行时抛出nullreferenceexception或者崩溃" class="hash-link" aria-label="async 代码（系统自带或者UniTask之类）打包后运行时抛出NullReferenceException或者崩溃的直接链接" title="async 代码（系统自带或者UniTask之类）打包后运行时抛出NullReferenceException或者崩溃的直接链接">​</a></h3><p>有几个原因：</p><ul><li>在异步代码中抛出异常（比如桥接函数异常或者AOT泛型实例化异常），导致异步代码未能正确执行。解决办法为 catch 异步中的异常，定位出具体的原因，再解决</li><li>补充元数据及桥接函数与最终的发布包不匹配。 当开启development选项时便会产生这个问题：<code>Generate/All</code>或<code>Generate/AOTDlls</code>生成的是非development模式
下的aot dll，与打包时生成的development aot dll不匹配，进一步导致补充元数据和生成桥接函数都是错误的，于是在运行时发生严重的错误或崩溃。解决办法为打包时
不要关闭development选项，或者修改<code>Generate/AOTDlls</code>代码，在BuildOptions中添加<code>Development</code>标志。</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="遇到-unity-typeloadexception-could-not-load-type-xxxtype-from-assembly-yyyassembly">遇到 Unity: TypeLoadException: Could not load type &#x27;XxxType&#x27; from assembly &#x27;yyyAssembly&#x27;<a href="#遇到-unity-typeloadexception-could-not-load-type-xxxtype-from-assembly-yyyassembly" class="hash-link" aria-label="遇到 Unity: TypeLoadException: Could not load type &#x27;XxxType&#x27; from assembly &#x27;yyyAssembly&#x27;的直接链接" title="遇到 Unity: TypeLoadException: Could not load type &#x27;XxxType&#x27; from assembly &#x27;yyyAssembly&#x27;的直接链接">​</a></h3><p>分几情况：</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="情况1yyyassembly-是-netstandard">情况1：yyyAssembly 是 netstandard<a href="#情况1yyyassembly-是-netstandard" class="hash-link" aria-label="情况1：yyyAssembly 是 netstandard的直接链接" title="情况1：yyyAssembly 是 netstandard的直接链接">​</a></h4><p>这是因为你Player Settings里 <code>api compatible level</code> 设置为 .net standard。</p><p>目前支持.net standard 2.0和.net 4.x，但即使主工程打包用.net standard，热更新dll打包<strong>必须用.net 4.x</strong>。原因是unity使用.net standard打包时，会自动剥除.net standard的依赖，直接依赖最终的dll，导致主工程的dll列表中实际上不存在net standard这个dll，进而导致热更新dll加载时，找不到来自netstandard的对象。</p><p>解决办法为打包和编译热更新都用.net 4.x或者打包用.net standard 2.0但编译热更新部分时api compatible level切换为.net 4.x(2021 起改名为 .net framework)。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="情况2yyyassembly是-其他aot-assembly">情况2：yyyAssembly是 其他AOT assembly<a href="#情况2yyyassembly是-其他aot-assembly" class="hash-link" aria-label="情况2：yyyAssembly是 其他AOT assembly的直接链接" title="情况2：yyyAssembly是 其他AOT assembly的直接链接">​</a></h4><p>这是unity代码裁剪引起的函数丢失，你使用常规的避免unity代码裁剪的方式处理即可。</p><p>按照Unity防裁剪原理，你在link.xml中添加对丢失代码类的引用即可，但这种事情费时费力。</p><p>HybridCLR提供了快捷的自动生成工具，运行菜单命令 <code>HybridCLR/Genrate/LinkXml</code> 根据热更新dll生成 link.xml。</p><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>警告</div><div class="admonitionContent_S0QG"><p>如果你发现在link.xml确实preserve了这个类，但仍然出现这种类型缺失的错误，这是Unity自身引起的。Unity要求必须在代码里引用过dll里的任意类，才会保留这个dll，link中的那些配置才会生效。因此需要你手动在代码里引用缺失的这个类所在的dll里的任意一个类即可。 </p></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="情况3yyyassembly是热更新assembly">情况3：yyyAssembly是热更新assembly<a href="#情况3yyyassembly是热更新assembly" class="hash-link" aria-label="情况3：yyyAssembly是热更新assembly的直接链接" title="情况3：yyyAssembly是热更新assembly的直接链接">​</a></h4><p>这是因为你没有按照依赖顺序加载热更新dll。例如，如果A依赖于B，那你应该先加载B，再加载A。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="missingmethodexception-hybridclrruntimeapiloadmetadataforaotassemblysystembytehybridclrhomologousimagemode-错误">MissingMethodException: HybridCLR.RuntimeApi::LoadMetadataForAOTAssembly(System.Byte[],HybridCLR.HomologousImageMode) 错误<a href="#missingmethodexception-hybridclrruntimeapiloadmetadataforaotassemblysystembytehybridclrhomologousimagemode-错误" class="hash-link" aria-label="MissingMethodException: HybridCLR.RuntimeApi::LoadMetadataForAOTAssembly(System.Byte[],HybridCLR.HomologousImageMode) 错误的直接链接" title="MissingMethodException: HybridCLR.RuntimeApi::LoadMetadataForAOTAssembly(System.Byte[],HybridCLR.HomologousImageMode) 错误的直接链接">​</a></h3><p>升级hybridclr后未重新install。 从v4.0.8起，RuntimeApi中定义的extern函数由PInvoke改为InternalCall，如果升级hybridclr package后没有重新install就会出现这个错误。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="missingmethodexception-methodnotfind-xxclassyyymethod-错误">MissingMethodException: MethodNotFind xxClass::yyyMethod 错误<a href="#missingmethodexception-methodnotfind-xxclassyyymethod-错误" class="hash-link" aria-label="MissingMethodException: MethodNotFind xxClass::yyyMethod 错误的直接链接" title="MissingMethodException: MethodNotFind xxClass::yyyMethod 错误的直接链接">​</a></h3><p>这是unity代码裁剪引起的函数丢失，运行菜单命令 <code>HybridCLR/Genrate/LinkXml</code> 根据热更新dll生成 link.xml。同时要确保被引用的AOT程序集在主工程代码中被引用过，否则linkxml不会生效。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="missingmethodexception-aot-generic-method-isnt-instantiated-in-aot-module-xxx">MissingMethodException: AOT generic method isn&#x27;t instantiated in aot module xxx<a href="#missingmethodexception-aot-generic-method-isnt-instantiated-in-aot-module-xxx" class="hash-link" aria-label="MissingMethodException: AOT generic method isn&#x27;t instantiated in aot module xxx的直接链接" title="MissingMethodException: AOT generic method isn&#x27;t instantiated in aot module xxx的直接链接">​</a></h3><p>有几个原因：</p><ol><li>这是因为AOT泛型函数实例化缺失引起的</li><li>使用了Unity 2021并且 <code>Il2Cpp Code Generation</code> 选项为 <code>faster (smaller) build</code>，导致生成的代码为完全泛型模式，所有泛型函数签名均发生变化。如果没有补充元数据，调用即使已经在AOT中实例化的泛型函数，仍然会出现这个错误。</li><li>微信小游戏转换工具，默认会将IL2CPP Code Generation设置为Faster(Smaller) builds模式，如果未补充元数据，会导致无法访问AOT泛型函数。</li></ol><p>原因1的解决办法为：</p><ul><li>错误日志告诉你缺失哪个AOT函数实例化，你就在主工程里加上对这个函数的调用，使得il2cpp在打包时能生成这个泛型函数的代码。 主工程里任意地方加个这个泛型AOT函数调用都可以，目前一般集中加到 RefTypes.cs 这个文件里。</li><li>使用补充元数据技术</li></ul><p>原因2的解决办法为：</p><ul><li>将BuildSettings中 <code>IL2CPP Code Generation</code> 设置为 <code>Faster runtime</code>同时使用补充元数据</li></ul><p>原因3的解决办法：</p><ul><li>使用补充元数据技术</li><li>自己改微信工具源码，将BuildSettings中 <code>IL2CPP Code Generation</code> 设置为 <code>Faster</code>。</li></ul><p>具体操作请看<a href="/docs/7.10.0/basic/aotgeneric">AOT泛型原理介绍</a> 文档。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="遇到-executionengineexception-metadata-type-not-match">遇到 ExecutionEngineException: metadata type not match<a href="#遇到-executionengineexception-metadata-type-not-match" class="hash-link" aria-label="遇到 ExecutionEngineException: metadata type not match的直接链接" title="遇到 ExecutionEngineException: metadata type not match的直接链接">​</a></h3><p>补充元数据使用了不匹配的裁剪后的AOT版本，应该使用本次打包生成，或者使用<code>HomologousImageMode::SuperSet</code>模式加载。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="遇到executionengineexception-not-support-extern-method-xxxx">遇到ExecutionEngineException: not support extern method: xxxx<a href="#遇到executionengineexception-not-support-extern-method-xxxx" class="hash-link" aria-label="遇到ExecutionEngineException: not support extern method: xxxx的直接链接" title="遇到ExecutionEngineException: not support extern method: xxxx的直接链接">​</a></h3><p>有两种原因：</p><ul><li>在热更新中定义了extern函数，这暂时不支持。解决办法是将extern函数移到AOT部分。</li><li>使用了SuperSet元数据格式，但补充元数据aot dll太旧，导致AOT中的泛型在补充元数据dll中找不到。解决办法是更新最新的AOT dll。</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="遇到executionengineexceptionmethod-body-is-null-xxxyyyy">遇到ExecutionEngineException:method body is null. xxx::yyyy<a href="#遇到executionengineexceptionmethod-body-is-null-xxxyyyy" class="hash-link" aria-label="遇到ExecutionEngineException:method body is null. xxx::yyyy的直接链接" title="遇到ExecutionEngineException:method body is null. xxx::yyyy的直接链接">​</a></h3><p>原因同上。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="遇到-executionengineexception-getmanaged2nativemethodpointer-not-support-xxxx-函数名">遇到 ExecutionEngineException: GetManaged2NativeMethodPointer not support. xxxx 函数名<a href="#遇到-executionengineexception-getmanaged2nativemethodpointer-not-support-xxxx-函数名" class="hash-link" aria-label="遇到 ExecutionEngineException: GetManaged2NativeMethodPointer not support. xxxx 函数名的直接链接" title="遇到 ExecutionEngineException: GetManaged2NativeMethodPointer not support. xxxx 函数名的直接链接">​</a></h3><p>缺失 interpreter -&gt; aot 方向的桥接函数。请先确认你的 hybridclr是最新代码， com.code-philosophy.hybridclr package也是最新版本，
并且已经生成最新的桥接函数。原理请参考 <a href="/docs/7.10.0/basic/methodbridge">桥接函数</a> 。</p><p>如果Android上正常，而iOS上有问题，则是因为你没有重新编译libil2cpp.a。</p><p>如果还有问题，请在群里反馈给管理员 技术支持。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="遇到executionengineexception-notsupportnative2managed">遇到&#x27;ExecutionEngineException: NotSupportNative2Managed&#x27;<a href="#遇到executionengineexception-notsupportnative2managed" class="hash-link" aria-label="遇到&#x27;ExecutionEngineException: NotSupportNative2Managed&#x27;的直接链接" title="遇到&#x27;ExecutionEngineException: NotSupportNative2Managed&#x27;的直接链接">​</a></h3><p>缺失 aot -&gt; interpreter 方向的桥接函数。请先确认你已生成最新的桥接函数。原理请参考 <a href="/docs/7.10.0/basic/methodbridge">桥接函数</a> 。
如果Android上正常，而iOS上有问题，则是因为你没有重新编译libil2cpp.a。</p><p>如果还有问题，请在群里反馈给管理员 技术支持。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="executionengineexception-attempting-to-call-method-xxxx-for-which-no-ahead-of-time-aot-code-was-generated">ExecutionEngineException: Attempting to call method &#x27;xxxx&#x27; for which no ahead of time (AOT) code was generated.<a href="#executionengineexception-attempting-to-call-method-xxxx-for-which-no-ahead-of-time-aot-code-was-generated" class="hash-link" aria-label="ExecutionEngineException: Attempting to call method &#x27;xxxx&#x27; for which no ahead of time (AOT) code was generated.的直接链接" title="ExecutionEngineException: Attempting to call method &#x27;xxxx&#x27; for which no ahead of time (AOT) code was generated.的直接链接">​</a></h3><p>为出错的函数所在的dll补充元数据即可。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="getreversepinvokewrapper-fail-exceed-max-wrapper-num-of-method">GetReversePInvokeWrapper fail. exceed max wrapper num of method<a href="#getreversepinvokewrapper-fail-exceed-max-wrapper-num-of-method" class="hash-link" aria-label="GetReversePInvokeWrapper fail. exceed max wrapper num of method的直接链接" title="GetReversePInvokeWrapper fail. exceed max wrapper num of method的直接链接">​</a></h3><p>Wrapper函数不足。你需要为热更新中的添加了MonoPInvokeCallback特性的函数预留Wrapper函数，详见<a href="/docs/7.10.0/basic/workwithscriptlanguage">MonoPInvokeCallback支持</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="notsupportedexception-to-marshal-a-managed-method-please-add-an-attribute-named-monopinvokecallback-to-the-method-definition-the-method-were-attempting-to-marshal-isxxxx">NotSupportedException: To marshal a managed method, please add an attribute named &#x27;MonoPInvokeCallback&#x27; to the method definition. The method we&#x27;re attempting to marshal is:xxxx<a href="#notsupportedexception-to-marshal-a-managed-method-please-add-an-attribute-named-monopinvokecallback-to-the-method-definition-the-method-were-attempting-to-marshal-isxxxx" class="hash-link" aria-label="NotSupportedException: To marshal a managed method, please add an attribute named &#x27;MonoPInvokeCallback&#x27; to the method definition. The method we&#x27;re attempting to marshal is:xxxx的直接链接" title="NotSupportedException: To marshal a managed method, please add an attribute named &#x27;MonoPInvokeCallback&#x27; to the method definition. The method we&#x27;re attempting to marshal is:xxxx的直接链接">​</a></h3><p>原理同上</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="使用addressable进行热更新时加载资源出现-unityengineaddressableassetsinvlidkeyexception-exception-of-type-unityengineaddressableassetsinvalidkeyexception-was-thrown-no-asset-found-with-for-key-xxxx-异常">使用addressable进行热更新时，加载资源出现 UnityEngine.AddressableAssets.InvlidKeyException: Exception of type &#x27;UnityEngine.AddressableAssets.InvalidKeyException&#x27; was thrown. No Asset found with for key &#x27;xxxx&#x27; 异常<a href="#使用addressable进行热更新时加载资源出现-unityengineaddressableassetsinvlidkeyexception-exception-of-type-unityengineaddressableassetsinvalidkeyexception-was-thrown-no-asset-found-with-for-key-xxxx-异常" class="hash-link" aria-label="使用addressable进行热更新时，加载资源出现 UnityEngine.AddressableAssets.InvlidKeyException: Exception of type &#x27;UnityEngine.AddressableAssets.InvalidKeyException&#x27; was thrown. No Asset found with for key &#x27;xxxx&#x27; 异常的直接链接" title="使用addressable进行热更新时，加载资源出现 UnityEngine.AddressableAssets.InvlidKeyException: Exception of type &#x27;UnityEngine.AddressableAssets.InvalidKeyException&#x27; was thrown. No Asset found with for key &#x27;xxxx&#x27; 异常的直接链接">​</a></h3><p>解决方案来自<a href="https://github.com/Bian-Sh/Assemblies-Hotfix-Toolkit-Unity/issues/2" target="_blank" rel="noopener noreferrer">addressables和HybridCLR结合使用导致的资源加载错误</a>。也可以参见视频<a href="https://www.bilibili.com/video/BV1aP4y1o7xi/" target="_blank" rel="noopener noreferrer">踩坑实战:将HybridCLR导入自己的项目并实现热更新</a> 1:02:30起的内容。</p><blockquote><p>当使用addressables来更新热更新的dll时。由于是先使用了Addressables的LoadAssetAsync函数，导致Addressables需要先进行初始化，此时的初始化中如果资源的类型是在热更新的类型，那么Addressables会认为该资源的类型为System.Object。所以需要先进行dll的加载才能够使用Addressables来加载资源，否则就会报UnityEngine.AddressableAssets.InvalidKeyException: Exception of type &#x27;UnityEngine.AddressableAssets.InvalidKeyException&#x27; was thrown. No Asset found with for Key=xxx. Key exists as Type=System.Object, which is not assignable from the requested Type=YourHotUpdateAssetType。</p></blockquote><p>解决办法有如下几种：</p><ul><li>使用<code>LoadAsset&lt;System.Object&gt;</code>接口加载后再强转</li><li>在loaddll结束后重新加载catalog <code>Addressables.LoadContentCatalogAsync($&quot;{Addressables.RuntimePath}/catalog.json&quot;);</code></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="gameobjectgetcomponentstring-name-接口无法获得组件">GameObject.GetComponent(string name) 接口无法获得组件<a href="#gameobjectgetcomponentstring-name-接口无法获得组件" class="hash-link" aria-label="GameObject.GetComponent(string name) 接口无法获得组件的直接链接" title="GameObject.GetComponent(string name) 接口无法获得组件的直接链接">​</a></h3><p>这是已知bug，跟unity的代码实现有关，只有挂载在热更新资源上热更新脚本才会有这个问题，通过代码中AddComponent添加的热更新脚本是可以用这个方法查找到。请改用 <code>GameObject.GetComponent&lt;T&gt;()</code> 或 <code>GameObject.GetComponent(typeof(T))</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="gameobjectgetcomponentt或者gameobjectgetcomponenttype-type返回null">GameObject.GetComponent<!-- -->&lt;<!-- -->T<!-- -->&gt;<!-- -->()或者GameObject.GetComponent(Type type)返回null<a href="#gameobjectgetcomponentt或者gameobjectgetcomponenttype-type返回null" class="hash-link" aria-label="gameobjectgetcomponentt或者gameobjectgetcomponenttype-type返回null的直接链接" title="gameobjectgetcomponentt或者gameobjectgetcomponenttype-type返回null的直接链接">​</a></h3><p>都是因为你把某个程序集加载了两次导致，你传入的T或者Type与GameObject上挂载的脚本只是同名，却属于不同程序集实例，导致返回时强转后变成null。一般有如下几种情形导致：</p><ul><li>Editor中使用Assembly.Load加载了热更新程序集。由于Editor下已经默认加载了所有程序集，你再次加载就会出现重复加载。解决办法为使用#if !UNITY_EDITOR 宏注释掉加载代码</li><li>程序集未加到hotUpdateAssemblies列表，导致热更新程序集也被打包到了AOT中。在热更新中再次加载则会出现重复加载。解决办法为将热更新程序集加入到hotUpdateAssemblies列表，重新打包</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="使用memoryprofile抓取内存快照会崩溃">使用MemoryProfile抓取内存快照会崩溃<a href="#使用memoryprofile抓取内存快照会崩溃" class="hash-link" aria-label="使用MemoryProfile抓取内存快照会崩溃的直接链接" title="使用MemoryProfile抓取内存快照会崩溃的直接链接">​</a></h3><p>如果你使用Unity 2021或更高的版本，升级 hybridclr package到<code>v3.0.2</code>或更高版本即可。如果使用Unity 2019或2020，将提交记录
<a href="https://github.com/focus-creative-games/hybridclr/commit/062bfa99c71a53a6cb35fc89a52d67bbff2bb2d0" target="_blank" rel="noopener noreferrer">修复使用Momery Profiler创建快照时发生崩溃的bug</a> 的改动合并到你当前版本即可。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="profiler的-beginsample和endsample-无法生效">profiler的 BeginSample和EndSample 无法生效<a href="#profiler的-beginsample和endsample-无法生效" class="hash-link" aria-label="profiler的 BeginSample和EndSample 无法生效的直接链接" title="profiler的 BeginSample和EndSample 无法生效的直接链接">​</a></h3><p>因为 BeginSample之类的函数有<!-- -->[Condition]<!-- -->编译注解，以Release方式编译dll时，会自动剔除这些代码，导致Profile失效。解决办法是以Developemnt方式编译热更新dll即可，代码如下。
如果你使用<code>v3.0.2</code>及更高版本，已经附带了<code>HybridCLR/CompileDll/ActivedBuildTarget_Development</code>菜单命令。</p><div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name keyword" style="color:#00009f">var</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">group</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> BuildPipeline</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">GetBuildTargetGroup</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">target</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">ScriptCompilationSettings</span><span class="token plain"> scriptCompilationSettings </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">ScriptCompilationSettings</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    scriptCompilationSettings</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">group</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">group</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    scriptCompilationSettings</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">target </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> target</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">developmentBuild</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// 核心是这行，使得以Debug模式编译dll，保留Profiler.BeginSample之类的函数调用。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        scriptCompilationSettings</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">options </span><span class="token operator" style="color:#393A34">|=</span><span class="token plain"> ScriptCompilationOptions</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DevelopmentBuild</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Directory</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">CreateDirectory</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">buildDir</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">ScriptCompilationResult</span><span class="token plain"> scriptCompilationResult </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> PlayerBuildInterface</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">CompilePlayerScripts</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">scriptCompilationSettings</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> buildDir</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ios使用相机没有任何响应但也不报错">iOS使用相机没有任何响应，但也不报错<a href="#ios使用相机没有任何响应但也不报错" class="hash-link" aria-label="iOS使用相机没有任何响应，但也不报错的直接链接" title="iOS使用相机没有任何响应，但也不报错的直接链接">​</a></h3><p>这是WebCamTexture.devices未在AOT中保留导致。需要手动在AOT中引用 WebCamTexture.devices。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="avpromoviecapture插件工作不正常">AVProMovieCapture插件工作不正常<a href="#avpromoviecapture插件工作不正常" class="hash-link" aria-label="AVProMovieCapture插件工作不正常的直接链接" title="AVProMovieCapture插件工作不正常的直接链接">​</a></h3><p>由于AVProMovieCapture自身实现的原因，你需要先初始化插件，再进行HybridCLR的加载之类的操作。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="encodeimageandmetadataindex函数出现il2cpp_assert断言失败的错误">EncodeImageAndMetadataIndex函数出现IL2CPP_ASSERT断言失败的错误<a href="#encodeimageandmetadataindex函数出现il2cpp_assert断言失败的错误" class="hash-link" aria-label="EncodeImageAndMetadataIndex函数出现IL2CPP_ASSERT断言失败的错误的直接链接" title="EncodeImageAndMetadataIndex函数出现IL2CPP_ASSERT断言失败的错误的直接链接">​</a></h3><p>由于你们项目的热更新dll过大导致。解决办法：</p><ul><li>升级到v5.2.0+版本，支持最大64M的dll</li><li>将热更新dll拆分成多个更小的dll</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="启动时执行automaticworldbootstrapinitialize过程中调用resourcecatalogdatagetguidfrompath崩溃">启动时执行AutomaticWorldBootstrap::Initialize过程中调用ResourceCatalogData::GetGUIDFromPath崩溃<a href="#启动时执行automaticworldbootstrapinitialize过程中调用resourcecatalogdatagetguidfrompath崩溃" class="hash-link" aria-label="启动时执行AutomaticWorldBootstrap::Initialize过程中调用ResourceCatalogData::GetGUIDFromPath崩溃的直接链接" title="启动时执行AutomaticWorldBootstrap::Initialize过程中调用ResourceCatalogData::GetGUIDFromPath崩溃的直接链接">​</a></h2><p>你当前使用的entities版本不能直接使用Player Building中打包，必须安装<code>com.unity.platforms</code>，使用它单独的提供的打包方式，<a href="https://docs.unity3d.com/Packages/com.unity.entities@0.51/manual/ecs_building_projects.html" target="_blank" rel="noopener noreferrer">详细文档</a>。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="jobschedulebatch-崩溃">Job.ScheduleBatch 崩溃<a href="#jobschedulebatch-崩溃" class="hash-link" aria-label="Job.ScheduleBatch 崩溃的直接链接" title="Job.ScheduleBatch 崩溃的直接链接">​</a></h2><p>hybridclr与dots不兼容导致，商业化版本可以解决这个问题。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="游戏启动时出现unable-to-load-il2cpp错误">游戏启动时出现<code>Unable to load il2cpp</code>错误<a href="#游戏启动时出现unable-to-load-il2cpp错误" class="hash-link" aria-label="游戏启动时出现unable-to-load-il2cpp错误的直接链接" title="游戏启动时出现unable-to-load-il2cpp错误的直接链接">​</a></h2><p>这是因为你当前使用的hybridclr与你的Unity版本号不兼容导致的。一般来说是因为你的版本太新，你当前的hybridclr未及时合并你当前版本的il2cpp的代码改动。</p><p>请升级hybridclr到最新版本，然后重新打包。如果仍然有问题，请报告给我们，我们会在一周内发布新版本解决这个兼容问题。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="webgl-运行时出现-function-signature-mismatch错误">WebGL 运行时出现 function signature mismatch错误<a href="#webgl-运行时出现-function-signature-mismatch错误" class="hash-link" aria-label="WebGL 运行时出现 function signature mismatch错误的直接链接" title="WebGL 运行时出现 function signature mismatch错误的直接链接">​</a></h2><p>WebGL平台打包时默认使用 <code>faster (smaller) build</code>选项，该选项会开启完全泛型共享，而社区版本必须补充元数据后才能与完全泛型共享机制配合工作。请依次尝试以下办法：</p><ol><li>确保hybridclr为v4.0.0+版本，如果低于此版本请升级</li><li>如果仍有问题，则可能是桥接函数与最终构建的包不匹配导致，比如说&#x27;Generate/all&#x27;时开启了&#x27;development&#x27;但构建时却未开启&#x27;development&#x27;。解决办法为使用构建时的参数，运行<code>generate/all</code>，清除build缓存后重新构造</li><li>如果仍有问题，将 <code>Player Settings</code>中 <code>IL2CPP Code Generation</code> 切换到 <code>Faster Runtime</code></li><li>如果仍有问题，升级到最新的hybridclr版本</li><li>如果极有问题，请联系我们技术支持</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="webgl或微信小游戏之类在ios54-系统出现not-implementedclassfromil2cpptype之类的错误日志卡在启动画面无法启动">webgl（或微信小游戏之类）在iOS5.4 系统出现&quot;Not implemented&quot;、&quot;Class::FromIl2CppType&quot;之类的错误日志，卡在启动画面无法启动<a href="#webgl或微信小游戏之类在ios54-系统出现not-implementedclassfromil2cpptype之类的错误日志卡在启动画面无法启动" class="hash-link" aria-label="webgl（或微信小游戏之类）在iOS5.4 系统出现&quot;Not implemented&quot;、&quot;Class::FromIl2CppType&quot;之类的错误日志，卡在启动画面无法启动的直接链接" title="webgl（或微信小游戏之类）在iOS5.4 系统出现&quot;Not implemented&quot;、&quot;Class::FromIl2CppType&quot;之类的错误日志，卡在启动画面无法启动的直接链接">​</a></h2><p>此为 Unity &amp; iOS 15.4 的 BUG，解决办法有两个：</p><ol><li>微信提供的 wasm 代码分包(推荐)</li><li>Unity WebGL 官方论坛的<a href="https://forum.unity.com/threads/ios-15-webgl-2-issue.1176116/page-2" target="_blank" rel="noopener noreferrer">临时修复方案</a>。具体地说，打开<code>HybridCLRData/LocalIl2CppData-xxx/il2cpp/libil2cpp/metadata/GenericMetadata.cpp</code>
文件，在代码行<code>const Il2CppType* GenericMetadata::InflateIfNeeded</code>函数前加一行代码<code>#pragma clang optimize off</code>，在函数后加入<code>#pragma clang optimize on</code>。最终代码如下：</li></ol><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">pragma</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property expression" style="color:#36acaa">clang optimize off</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> Il2CppType</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token class-name">GenericMetadata</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">InflateIfNeeded</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> Il2CppType</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> type</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> Il2CppGenericContext</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> inflateMethodVars</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">pragma</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property expression" style="color:#36acaa">clang optimize on</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="使用-unitynetcoderuntime-后出现-notsupportnative2managed-桥接函数缺失异常">使用 Unity.netcode.runtime 后出现 NotSupportNative2Managed 桥接函数缺失异常<a href="#使用-unitynetcoderuntime-后出现-notsupportnative2managed-桥接函数缺失异常" class="hash-link" aria-label="使用 Unity.netcode.runtime 后出现 NotSupportNative2Managed 桥接函数缺失异常的直接链接" title="使用 Unity.netcode.runtime 后出现 NotSupportNative2Managed 桥接函数缺失异常的直接链接">​</a></h3><p>原因是 在Unity.netcode.runtime.dll中 NetworkManager.RpcReceiveHandler 是internal， 定义如下</p><div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">internal</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">delegate</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">RpcReceiveHandler</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">NetworkBehaviour</span><span class="token plain"> behaviour</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">FastBufferReader</span><span class="token plain"> reader</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">__RpcParams</span><span class="token plain"> parameters</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>导致生成工具没有为它生成桥接函数。但Unity又非常trick地在打包时为 标记了 <code>[ClientRpc]</code> 和 <code>[ServerRpc]</code> 的函数生成 RpcReceiveHandler
处理函数，并且引用了 internal 的RpcReceiveHandler类！居然没报错。 导致出现桥接函数缺失的问题。</p><p>解决办法为你在AOT工程里也定义一个相同签名的delegate。</p><div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 由于 __RpcParams也是internal的，我们这儿自己重新定义了一个一样的类型</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">__RpcParams</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token preprocessor property" style="color:#36acaa">#</span><span class="token preprocessor property directive keyword" style="color:#00009f">pragma</span><span class="token preprocessor property" style="color:#36acaa"> warning restore IDE1006 </span><span class="token comment" style="color:#999988;font-style:italic">// restore naming rule violation check</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token class-name">ServerRpcParams</span><span class="token plain"> Server</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token class-name">ClientRpcParams</span><span class="token plain"> Client</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">delegate</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">MyRpcReceiveHandler</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">NetworkBehaviour</span><span class="token plain"> behaviour</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">FastBufferReader</span><span class="token plain"> reader</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">__RpcParams</span><span class="token plain"> parameters</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/7.10.0/help/faq"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">FAQ</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/7.10.0/help/issue"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">BUG反馈模板</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#unity-editor下的错误" class="table-of-contents__link toc-highlight">Unity Editor下的错误</a><ul><li><a href="#package-manager中安装-comcode-philosophyhybridclr时出现-package名与comfocus-creative-gameshybridclr_unity不匹配的错误" class="table-of-contents__link toc-highlight">Package Manager中安装 com.code-philosophy.hybridclr时出现 package名与com.focus-creative-games.hybridclr_unity不匹配的错误</a></li><li><a href="#点击-hybridclrsetting未能找到hybridclr设置界面" class="table-of-contents__link toc-highlight">点击 <code>HybridCLR/Setting</code>，未能找到HybridCLR设置界面</a></li><li><a href="#installer中安装时出现-win32exceptionapplicationnamegit-xxxx-native-erro系统找不到指定的文件-错误" class="table-of-contents__link toc-highlight">Installer中安装时出现 <code>Win32Exception:ApplicationName=&#39;git&#39;, xxxx, Native erro=系统找不到指定的文件。</code> 错误</a></li><li><a href="#installer点击安装出现git不是内部或外部命令也不是可运行的程序" class="table-of-contents__link toc-highlight">Installer点击安装出现：git不是内部或外部命令，也不是可运行的程序</a></li><li><a href="#使用installer安装时发生-directorynotfoundexception-counld-not-find-a-part-of-the-path-xxx" class="table-of-contents__link toc-highlight">使用Installer安装时发生 DirectoryNotFoundException: Counld not find a part of the path &#39;xxx&#39;</a></li><li><a href="#使用installer安装时提示monocompilerservicessymbolwriterdll-path-is-too-long-copy-ignore" class="table-of-contents__link toc-highlight">使用Installer安装时提示Mono.CompilerServices.SymbolWriter.dll path is too long. copy ignore!</a></li><li><a href="#exception-regionunity_config-start-not-find" class="table-of-contents__link toc-highlight">Exception. region:UNITY_CONFIG start not find</a></li><li><a href="#exception-regionplace_holder-start-not-find" class="table-of-contents__link toc-highlight">Exception. region:PLACE_HOLDER start not find</a></li><li><a href="#exception-regionxxxxxx-start-not-find" class="table-of-contents__link toc-highlight">Exception. region:XXXXXX start not find</a></li><li><a href="#运行-hybridclrgeneratexxx-时发生-exception-resolve-assembly-yyyassembly-fail" class="table-of-contents__link toc-highlight">运行 <code>HybridCLR/generate/xxx</code> 时发生 <code>Exception: resolve assembly: yyyAssembly fail</code></a></li><li><a href="#运行-hybridclrgeneratexxx-时发生-nullreferenceexception-hybridclreditorabitypecreatorbasecreatetypeinfo-" class="table-of-contents__link toc-highlight">运行 <code>HybridCLR/generate/xxx</code> 时发生 <code>NullReferenceException. HybridCLR.Editor.ABI.TypeCreatorBase.CreateTypeInfo ...</code></a></li><li><a href="#打包ios版本时未生成-assembliespostil2cppstrip-目录" class="table-of-contents__link toc-highlight">打包iOS版本时未生成 AssembliesPostIl2CppStrip 目录</a></li><li><a href="#buildfailedexceptoin-build-path-contains-a-project-prevously-built-without-the-create-visual-studio-solution" class="table-of-contents__link toc-highlight">BuildFailedExceptoin: Build path contains a project prevously built without the &quot;Create Visual Studio Solution&quot;</a></li></ul></li><li><a href="#打包时发生错误" class="table-of-contents__link toc-highlight">打包时发生错误</a><ul><li><a href="#currently-selected-scripting-backend-il2cpp-is-not-installed" class="table-of-contents__link toc-highlight">Currently selected scripting backend (IL2CPP) is not installed</a></li><li><a href="#exception-c-code-bulider-is-unable-to-build-c-code-inorder-to-build-c-code-for-windows-destop-you-must-have-one-of-these-installed-xxxxx" class="table-of-contents__link toc-highlight">`Exception: C++ code bulider is unable to build C+ code. Inorder to build C++ code for Windows Destop, You must have one of these installed. xxxxx</a></li><li><a href="#遇到-undefined-symbols-for-architecture-arm64--_objc_msgsendinitwithname-referenced-from------il2cppostimezoneinfogettimezonedataforid" class="table-of-contents__link toc-highlight">遇到 Undefined symbols for architecture arm64:  &quot;_objc_msgSend$initWithName:&quot;, referenced from:      il2cpp::os::TimeZoneInfo::GetTimeZoneDataForID</a></li><li><a href="#打包出现-undefined-symbols-runtimeapi_loadmetadataforaotassembly-或-hybridclrapi_loadmetadataforaotassembly" class="table-of-contents__link toc-highlight">打包出现 Undefined symbols： RuntimeApi_LoadMetadataForAOTAssembly 或 hybridclrApi_LoadMetadataForAOTAssembly</a></li><li><a href="#building-librarybeeartifactsxxxx-failed-with-output-fatalerror-in-unitiy-cil-linker-monocecilassemblyresolutionexception-failed-to-resolve-assemblyxxx" class="table-of-contents__link toc-highlight">Building Library/Bee/artifacts/xxxx failed with output: Fatalerror in Unitiy CIL Linker Mono.Cecil.AssemblyResolutionException: Failed to resolve assembly:&#39;xxx&#39;</a></li><li><a href="#webgl平台打包时遇到-undefine-symbol-send-file-之类的错误" class="table-of-contents__link toc-highlight">WebGL平台打包时遇到 undefine symbol: send file 之类的错误</a></li><li><a href="#win-下-打包时遇到-xxxxil2cpplibil2cpputilsil2cpphashmaph71-error-c2039-hash_compare-is-not-a-member-of-stdext" class="table-of-contents__link toc-highlight">Win 下 打包时遇到 <code>xxxx\il2cpp\libil2cpp\utils\Il2CppHashMap.h(71): error C2039: &#39;hash_compare&#39;: is not a member of &#39;stdext&#39;</code></a></li><li><a href="#fatal-error-icallsmscorlibsystemmonotypeh-file-not-found-include-icallsmscorlibsystemmonotypeh" class="table-of-contents__link toc-highlight">fatal error: &#39;icalls/mscorlib/System/MonoType.h&#39; file not found #include &quot;icalls/mscorlib/System/MonoType.h&quot;</a></li><li><a href="#internal-build-system-error-buildprogram-exited-with-code--2147024894" class="table-of-contents__link toc-highlight">Internal build system error. BuildProgram exited with code -2147024894.</a></li><li><a href="#打包时出现-directorynotfoundexception-xxxxlibrarybeeartifactsyyyymanagedstripted-错误" class="table-of-contents__link toc-highlight">打包时出现 DirectoryNotFoundException: xxxxLibraryBeeartifactsyyyyManagedStripted 错误</a></li><li><a href="#打包webgl平台时出现-directorynotfoundexception-xxxhybridclrdatalocalil2cppdata-yyyil2cppil2cpp-deps--错误" class="table-of-contents__link toc-highlight">打包WebGL平台时出现 DirectoryNotFoundException: xxxHybridCLRDataLocalIl2CppData-{yyy}il2cppil2cpp-deps  错误</a></li><li><a href="#打包时出现-gc_set_mark_stck_empty-函数找不到或者签名不匹配的错误" class="table-of-contents__link toc-highlight">打包时出现 GC_set_mark_stck_empty 函数找不到或者签名不匹配的错误</a></li><li><a href="#打包webgl平台出现-buildjs-undefined-symbol-runtimeapi_loadmetadataforaotassembly-referenced-by-top-level-compiled-cc-code" class="table-of-contents__link toc-highlight">打包WebGL平台出现 <code>build.js: undefined symbol: RuntimeApi_LoadMetadataForAOTAssembly (referenced by top-level compiled C/C++ code)</code></a></li><li><a href="#打包webgl平台点击generateall发生错误" class="table-of-contents__link toc-highlight">打包WebGL平台点击<code>Generate/All</code>发生错误</a></li><li><a href="#打包出现-error-not-support-unity-version" class="table-of-contents__link toc-highlight">打包出现 <code>#error: &quot;not support unity version&quot;</code></a></li><li><a href="#打包时出现-could-not-find-a-part-of-path-xxxxhybridclrgeneratedunityversionh" class="table-of-contents__link toc-highlight">打包时出现 &#39;could not find a part of path &quot;xxxx/hybridclr/generated/UnityVersion.h&quot;</a></li><li><a href="#打包时发现-undefined-symbols-for-architecture-arm64-il2cpputilsdebuggerxxxxx" class="table-of-contents__link toc-highlight">打包时发现 &quot;Undefined symbols for architecture arm64: &quot;il2cpp::utils::Debugger::xxxxx&quot;</a></li><li><a href="#打包时出现-error-undefined-reference-to-systemnative-converterrorpaltoplatform" class="table-of-contents__link toc-highlight">打包时出现 <code>error: undefined reference to &#39;SystemNative-ConvertErrorPalToPlatform&#39;</code></a></li><li><a href="#打包时出现-buildfailedexception-you-must-run-hybridclrinstaller-after-upgrading-package" class="table-of-contents__link toc-highlight">打包时出现 <code>BuildFailedException: You must run </code>HybridCLR/Installer<code> after upgrading package</code></a></li><li><a href="#出现-il2cpp_pop_active_exception-相关编译错误" class="table-of-contents__link toc-highlight">出现 IL2CPP_POP_ACTIVE_EXCEPTION 相关编译错误</a></li><li><a href="#出现-error-no-matching-function-for-call-to-il2cpp_codegen_get_marshal_directive_exception" class="table-of-contents__link toc-highlight">出现 <code>error: no matching function for call to &#39;il2cpp_codegen_get_marshal_directive_exception&#39;</code></a></li><li><a href="#打包时出现编译错误通用处理办法" class="table-of-contents__link toc-highlight">打包时出现编译错误，通用处理办法</a></li><li><a href="#打包时出现buildingbuilderfailedexceptionin-file-included-from-xxxhybridclrdatalocalil2cppdata-platformil2cpp" class="table-of-contents__link toc-highlight">打包时出现Building.BuilderFailedException:In file included from xxxHybridCLRDataLocalIl2CppData-{platform}il2cpp</a></li><li><a href="#打包时出现-hybridclrdatallocall2cppdata-windowseditoril2cppllibil2cpphybridclrgeneratedreversepinvokemethodstubcpp-error-unknown-type-namestruct_xxx" class="table-of-contents__link toc-highlight">打包时出现 &quot;HybridCLRDatal/Locall2CppData-WindowsEditor/il2cpp/llibil2cpp/hybridclr/generated/ReversePInvokeMethodStub.cpp: error: unknown type name&#39;struct_xxx&#39;&quot;</a></li><li><a href="#打包时出现-checksettings-methodbridgecpp-development-flagx-is-inconsistent-with-editoruserbuildsettingsdevelopmenty-please-run-hybridclrgenerateall-before-building" class="table-of-contents__link toc-highlight">打包时出现 CheckSettings MethodBridge.cpp DEVELOPMENT flag:x is inconsistent with EditorUserBuildSettings.development:y. Please run &#39;HybridCLR/Generate/All&#39; before building.</a></li><li><a href="#在unity-6000及2023版本上构建iosvisionos等平台xcode工程时出现undefined-symbols-for-architecture-arm64-checkapplicationintegrityintegritychecklevel-链接错误" class="table-of-contents__link toc-highlight">在Unity 6000及2023版本上构建iOS、visionOS等平台xcode工程时出现<code>Undefined symbols for architecture arm64: &quot;CheckApplicationIntegrity(IntegrityCheckLevel)&quot;</code> 链接错误</a></li><li><a href="#在团结引擎构建微信小游戏平台时出现hybridclr-doesnt-support-slim_global_metadata_file--1-错误" class="table-of-contents__link toc-highlight">在团结引擎构建微信小游戏平台时出现<code>&quot;hybridclr doesn&#39;t support &#39;SLIM_GLOBAL_METADATA_FILE == 1&#39; &quot;</code>错误</a></li></ul></li><li><a href="#运行时错误" class="table-of-contents__link toc-highlight">运行时错误</a><ul><li><a href="#entrypointnotfoundexception-unable-to-find-entry-point-named-runtimeapi_loadmetadataforaotassembly-in-gameassembly" class="table-of-contents__link toc-highlight">EntryPointNotFoundException. Unable to find entry point named &#39;RuntimeApi_LoadMetadataForAOTAssembly&#39; in &#39;GameAssembly`</a></li><li><a href="#a-scripted-object-probably-xxx-has-a-different-serialization-layout-when-loading-did-you-ifdef-unity_editor-a-section-of-your-serialized-properties-in-any-of-your-scripts" class="table-of-contents__link toc-highlight">A scripted object (probably XXX?) has a different serialization layout when loading. Did you #ifdef UNITY_EDITOR a section of your serialized properties in any of your scripts?</a></li><li><a href="#挂载在资源上的脚本出现-script-missing-错误" class="table-of-contents__link toc-highlight">挂载在资源上的脚本出现 Script Missing 错误</a></li><li><a href="#遇到--this-icall-is-not-supported-by-il2cpp-at-systemappdomainload" class="table-of-contents__link toc-highlight">遇到  &quot;This icall is not supported by il2cpp at System.AppDomain.Load&quot;</a></li><li><a href="#热更新中物理碰撞-collision未生效" class="table-of-contents__link toc-highlight">热更新中物理碰撞 Collision未生效</a></li><li><a href="#unsupported-internal-call-for-il2cpp-xxxx" class="table-of-contents__link toc-highlight">unsupported internal call for il2cpp. xxxx</a></li><li><a href="#async-代码系统自带或者unitask之类打包后运行时抛出nullreferenceexception或者崩溃" class="table-of-contents__link toc-highlight">async 代码（系统自带或者UniTask之类）打包后运行时抛出NullReferenceException或者崩溃</a></li><li><a href="#遇到-unity-typeloadexception-could-not-load-type-xxxtype-from-assembly-yyyassembly" class="table-of-contents__link toc-highlight">遇到 Unity: TypeLoadException: Could not load type &#39;XxxType&#39; from assembly &#39;yyyAssembly&#39;</a></li><li><a href="#missingmethodexception-hybridclrruntimeapiloadmetadataforaotassemblysystembytehybridclrhomologousimagemode-错误" class="table-of-contents__link toc-highlight">MissingMethodException: HybridCLR.RuntimeApi::LoadMetadataForAOTAssembly(System.Byte[],HybridCLR.HomologousImageMode) 错误</a></li><li><a href="#missingmethodexception-methodnotfind-xxclassyyymethod-错误" class="table-of-contents__link toc-highlight">MissingMethodException: MethodNotFind xxClass::yyyMethod 错误</a></li><li><a href="#missingmethodexception-aot-generic-method-isnt-instantiated-in-aot-module-xxx" class="table-of-contents__link toc-highlight">MissingMethodException: AOT generic method isn&#39;t instantiated in aot module xxx</a></li><li><a href="#遇到-executionengineexception-metadata-type-not-match" class="table-of-contents__link toc-highlight">遇到 ExecutionEngineException: metadata type not match</a></li><li><a href="#遇到executionengineexception-not-support-extern-method-xxxx" class="table-of-contents__link toc-highlight">遇到ExecutionEngineException: not support extern method: xxxx</a></li><li><a href="#遇到executionengineexceptionmethod-body-is-null-xxxyyyy" class="table-of-contents__link toc-highlight">遇到ExecutionEngineException:method body is null. xxx::yyyy</a></li><li><a href="#遇到-executionengineexception-getmanaged2nativemethodpointer-not-support-xxxx-函数名" class="table-of-contents__link toc-highlight">遇到 ExecutionEngineException: GetManaged2NativeMethodPointer not support. xxxx 函数名</a></li><li><a href="#遇到executionengineexception-notsupportnative2managed" class="table-of-contents__link toc-highlight">遇到&#39;ExecutionEngineException: NotSupportNative2Managed&#39;</a></li><li><a href="#executionengineexception-attempting-to-call-method-xxxx-for-which-no-ahead-of-time-aot-code-was-generated" class="table-of-contents__link toc-highlight">ExecutionEngineException: Attempting to call method &#39;xxxx&#39; for which no ahead of time (AOT) code was generated.</a></li><li><a href="#getreversepinvokewrapper-fail-exceed-max-wrapper-num-of-method" class="table-of-contents__link toc-highlight">GetReversePInvokeWrapper fail. exceed max wrapper num of method</a></li><li><a href="#notsupportedexception-to-marshal-a-managed-method-please-add-an-attribute-named-monopinvokecallback-to-the-method-definition-the-method-were-attempting-to-marshal-isxxxx" class="table-of-contents__link toc-highlight">NotSupportedException: To marshal a managed method, please add an attribute named &#39;MonoPInvokeCallback&#39; to the method definition. The method we&#39;re attempting to marshal is:xxxx</a></li><li><a href="#使用addressable进行热更新时加载资源出现-unityengineaddressableassetsinvlidkeyexception-exception-of-type-unityengineaddressableassetsinvalidkeyexception-was-thrown-no-asset-found-with-for-key-xxxx-异常" class="table-of-contents__link toc-highlight">使用addressable进行热更新时，加载资源出现 UnityEngine.AddressableAssets.InvlidKeyException: Exception of type &#39;UnityEngine.AddressableAssets.InvalidKeyException&#39; was thrown. No Asset found with for key &#39;xxxx&#39; 异常</a></li><li><a href="#gameobjectgetcomponentstring-name-接口无法获得组件" class="table-of-contents__link toc-highlight">GameObject.GetComponent(string name) 接口无法获得组件</a></li><li><a href="#gameobjectgetcomponentt或者gameobjectgetcomponenttype-type返回null" class="table-of-contents__link toc-highlight">GameObject.GetComponent&lt;T&gt;()或者GameObject.GetComponent(Type type)返回null</a></li><li><a href="#使用memoryprofile抓取内存快照会崩溃" class="table-of-contents__link toc-highlight">使用MemoryProfile抓取内存快照会崩溃</a></li><li><a href="#profiler的-beginsample和endsample-无法生效" class="table-of-contents__link toc-highlight">profiler的 BeginSample和EndSample 无法生效</a></li><li><a href="#ios使用相机没有任何响应但也不报错" class="table-of-contents__link toc-highlight">iOS使用相机没有任何响应，但也不报错</a></li><li><a href="#avpromoviecapture插件工作不正常" class="table-of-contents__link toc-highlight">AVProMovieCapture插件工作不正常</a></li><li><a href="#encodeimageandmetadataindex函数出现il2cpp_assert断言失败的错误" class="table-of-contents__link toc-highlight">EncodeImageAndMetadataIndex函数出现IL2CPP_ASSERT断言失败的错误</a></li></ul></li><li><a href="#启动时执行automaticworldbootstrapinitialize过程中调用resourcecatalogdatagetguidfrompath崩溃" class="table-of-contents__link toc-highlight">启动时执行AutomaticWorldBootstrap::Initialize过程中调用ResourceCatalogData::GetGUIDFromPath崩溃</a></li><li><a href="#jobschedulebatch-崩溃" class="table-of-contents__link toc-highlight">Job.ScheduleBatch 崩溃</a></li><li><a href="#游戏启动时出现unable-to-load-il2cpp错误" class="table-of-contents__link toc-highlight">游戏启动时出现<code>Unable to load il2cpp</code>错误</a></li><li><a href="#webgl-运行时出现-function-signature-mismatch错误" class="table-of-contents__link toc-highlight">WebGL 运行时出现 function signature mismatch错误</a></li><li><a href="#webgl或微信小游戏之类在ios54-系统出现not-implementedclassfromil2cpptype之类的错误日志卡在启动画面无法启动" class="table-of-contents__link toc-highlight">webgl（或微信小游戏之类）在iOS5.4 系统出现&quot;Not implemented&quot;、&quot;Class::FromIl2CppType&quot;之类的错误日志，卡在启动画面无法启动</a><ul><li><a href="#使用-unitynetcoderuntime-后出现-notsupportnative2managed-桥接函数缺失异常" class="table-of-contents__link toc-highlight">使用 Unity.netcode.runtime 后出现 NotSupportNative2Managed 桥接函数缺失异常</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">文档</a></li></ul></div><div class="col footer__col"><div class="footer__title">Repository</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/focus-creative-games/hybridclr" target="_blank" rel="noopener noreferrer" class="footer__link-item">hybridclr<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/focus-creative-games/il2cpp_plus" target="_blank" rel="noopener noreferrer" class="footer__link-item">il2cpp_plus<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/focus-creative-games/hybridclr_unity" target="_blank" rel="noopener noreferrer" class="footer__link-item">hybridclr package<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/focus-creative-games/hybridclr" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://gitee.com/focus-creative-games/hybridclr" target="_blank" rel="noopener noreferrer" class="footer__link-item">Gitee<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 <a href="https://code-philosophy.com/">Code Philosophy</a>. All Rights Reserved.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.6d3d986b.js"></script>
<script src="/assets/js/main.651e32b8.js"></script>
</body>
</html>